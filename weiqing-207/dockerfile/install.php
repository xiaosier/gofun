<?php
 goto jZdJi; hJ1UD: header("\x4c\157\x63\x61\164\151\157\156\72\40" . $forward); goto YAY9H; XK3PU: exit(we7_error(0, array("\x74\157\164\141\154" => $data["\x63\x68\165\x6e\x6b\x5f\x74\157\x74\x61\x6c"]))); goto G1ijc; QCZyJ: Kc6tU: goto eL3RL; JCAtu: xIfI9: goto U0a7l; rJ9t7: exit(we7_error(430, $register_site_result)); goto Lkzmk; PFGsC: if ($registered_site == 1) { goto BZJMh; } goto DJ6NU; XYk8y: if (!empty($source_size)) { goto oDDeu; } goto Md6pt; Grc45: exit(we7_error(421, "\345\xae\211\xe8\xa3\205\345\214\x85\344\270\x8d\345\256\214\xe6\225\xb4\56")); goto kCfZL; K5XLk: we7_finish(); goto Zi3TB; Bgdy7: Gimwc: goto EDZvc; a3qhq: function we7_finish() { goto FLg2e; PBrhn: MrdAv: goto Dnjd0; bngTw: we7_setcookie("\151\x6d\163\137\x66\141\155\x69\x6c\x79", '', -10); goto VGeXj; qZiXd: setting_upgrade_version(we7_getcookie("\x69\155\x73\137\x66\141\x6d\151\154\x79"), IMS_VERSION, IMS_RELEASE_DATE); goto bngTw; rn0n0: load()->model("\x63\141\x63\x68\145"); goto qZiXd; B6kXe: we7_setcookie("\x63\150\165\x6e\153\x5f\x74\157\x74\141\x6c", '', -10); goto aNAWK; VGeXj: cache_build_frame_menu(); goto nyuG1; uk77k: $i = 1; goto PBrhn; yUVl4: @unlink("\x2e\57\143\x68\x75\x6e\x6b\137" . $i); goto Jldv7; oX29T: @unlink(IA_INSTALL_ROOT . "\57\144\141\164\141\x2f\144\142\x2e\154\157\x63\153"); goto TFjP2; POoeE: load()->web("\143\x6f\x6d\x6d\157\156"); goto T0NZD; T0NZD: load()->web("\164\145\155\160\154\141\164\145"); goto YWVZF; xdhX0: return true; goto aXgob; M6AVA: goto MrdAv; goto at3sy; LsoFe: @unlink("\56\x2f\x77\145\67\x73\x6f\165\162\x63\145\x2e\172\151\x70"); goto uk77k; nyuG1: cache_build_setting(); goto jnk3q; RZo6W: require IA_INSTALL_ROOT . "\57\x77\x65\142\57\143\x6f\x6d\x6d\x6f\x6e\57\142\157\157\x74\x73\164\x72\x61\x70\56\x73\171\163\x2e\151\156\143\x2e\160\150\160"; goto wLD2f; at3sy: IVIY3: goto Ry0j0; Ry0j0: we7_setcookie("\160\x61\x63\x6b\x61\x67\x65\x5f\x6d\x64\65", '', -10); goto B6kXe; wLD2f: $_W["\x75\151\144"] = $_W["\x69\x73\x66\157\x75\x6e\x64\x65\162"] = 1; goto POoeE; aUQmL: require IA_INSTALL_ROOT . "\57\146\x72\141\x6d\x65\x77\157\x72\x6b\x2f\142\x6f\157\164\163\164\162\141\x70\56\151\x6e\x63\x2e\160\150\160"; goto RZo6W; YWVZF: load()->model("\x73\x65\164\164\x69\x6e\x67"); goto rn0n0; Jldv7: vTrOc: goto nNVRq; jnk3q: cache_build_users_struct(); goto qbUSe; TFjP2: define("\x49\x4e\137\123\131\x53", true); goto aUQmL; aNAWK: @unlink(IA_INSTALL_ROOT . "\x2f\144\141\164\141\57\144\142\56\160\150\160"); goto oX29T; qbUSe: cache_build_module_subscribe_type(); goto xdhX0; nNVRq: $i++; goto M6AVA; FLg2e: global $_W; goto fJn98; Dnjd0: if (!($i <= $chunk_num)) { goto IVIY3; } goto yUVl4; fJn98: $chunk_num = we7_getcookie("\143\150\x75\x6e\x6b\137\164\x6f\164\141\154"); goto LsoFe; aXgob: } goto oUVxI; gHn3T: $db_password = trim($_POST["\x70\x61\163\x73\167\157\x72\144"]); goto xNa01; bt1xy: exit(we7_error(0, "\163\x75\x63\143\x65\163\163")); goto fGx_o; r4St4: $ret["\162\x6f\157\164"]["\156\141\x6d\x65"] = "\346\x9c\254\xe5\234\xb0\347\233\256\xe5\xbd\x95\xe5\206\x99\xe5\x85\xa5"; goto rndaK; Z59Ef: if (!($database_result !== true)) { goto RjNHZ; } goto vW4Ff; XuPIb: $ret["\141\163\160\137\x74\141\x67\x73"]["\146\x61\151\x6c\145\144"] = true; goto iB_tH; biHRp: $download_size = filesize("\x2e\57\x77\x65\x37\x73\157\165\162\143\x65\x2e\172\x69\x70"); goto x3lzN; goTgZ: if (!($finished === true)) { goto ZHPCW; } goto OI5cZ; RHnLh: exit(we7_error(400, $chunk_num)); goto NII0j; nkE75: define("\101\x50\111\x5f\123\111\124\x45\x5f\x52\105\107\x49\x53\124\x45\x52\x5f\105\130\111\123\124", API_HOST . "\57\x73\151\164\x65\57\162\145\147\x69\163\164\x65\162\57\145\x78\x69\163\x74"); goto RcPEu; Zj4h5: require IA_INSTALL_ROOT . "\x2f\x66\162\x61\155\145\x77\157\162\x6b\57\142\157\157\164\163\x74\162\141\160\x2e\151\156\x63\56\x70\x68\160"; goto LV3A1; HCuxF: define("\101\x50\111\137\110\117\123\x54", "\150\164\164\x70\72\57\57\141\x70\x69\x2e\x77\x37\x2e\143\x63"); goto nkE75; waemp: exit(we7_error(432, "\xe8\257\267\xe5\x85\x88\350\x8e\xb7\345\217\x96\345\210\x86\xe5\215\xb7\xe6\200\273\351\x87\x8f\x2e")); goto MldVb; oUVxI: function we7_http_request($url, $post = array()) { goto PumBE; cbpKG: curl_close($ch); goto UhUh0; lfA5q: goto Dguoz; goto ITzmG; P_WHh: curl_setopt($ch, CURLOPT_URL, $url); goto Wftoe; ynBEw: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\110\x54\x54\120\137\x55\123\105\122\137\x41\x47\105\116\x54"]); goto pRT07; fECZI: x6pPE: goto Armif; dE13h: $errno = curl_errno($ch); goto ncJ1D; RKOja: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto ynBEw; U7cgX: curl_setopt($ch, CURLOPT_POST, 1); goto JvOhp; h3DzS: return we7_http_response_parse($data); goto lfA5q; D7yu8: return array("\x65\162\x72\x6e\x6f" => $errno, "\145\x72\x72\157\162" => $error); goto blENv; PumBE: $ch = curl_init(); goto P_WHh; pRT07: $data = curl_exec($ch); goto dE13h; aVIDm: curl_setopt($ch, CURLOPT_HEADER, 1); goto pIvaK; JvOhp: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto fECZI; UhUh0: if ($errno || empty($data)) { goto ucoJn; } goto h3DzS; ncJ1D: $error = curl_error($ch); goto cbpKG; Armif: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto dkDkX; blENv: Dguoz: goto t5tCK; pIvaK: if (!$post) { goto x6pPE; } goto U7cgX; dkDkX: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto d4iUU; d4iUU: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto RKOja; ITzmG: ucoJn: goto D7yu8; Wftoe: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto SjSNi; SjSNi: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto aVIDm; t5tCK: } goto EvM1N; pZaW2: n9Sly: goto JlxOB; Z_By3: $chunk_total = we7_getcookie("\143\150\165\x6e\x6b\x5f\x74\x6f\164\x61\154"); goto mDdXq; b3GN7: fclose($hostfile); goto zc6jM; vLvqg: KIKPY: goto fKRqr; eaG0N: $ret["\x61\154\167\x61\x79\163\x5f\160\x6f\x70\x75\154\x61\164\x65\x5f\x72\x61\167\x5f\x70\x6f\x73\164\x5f\144\141\164\141"]["\156\x61\155\x65"] = "\x61\154\x77\x61\x79\x73\137\x70\157\160\x75\154\x61\164\x65\x5f\162\141\167\x5f\x70\157\x73\x74\137\144\x61\164\x61\xe9\205\x8d\347\275\xae"; goto qKysR; yGRpI: $server = trim($_POST["\x73\145\x72\x76\145\x72"]); goto IToQ8; wtADH: exit(we7_error(0, "\163\165\143\x63\x65\163\x73")); goto Bgdy7; Z_V7I: if ($ret["\162\157\x6f\x74"]["\157\153"]) { goto n9Sly; } goto DhiEM; eGmcJ: $output = fread($hostfile, 8192); goto BPXFG; a3yNd: goto Is3Cl; goto LWFkL; mTdwo: q92tX: goto q8602; RcPEu: define("\101\x50\x49\x5f\117\101\x55\124\110\137\x4c\117\x47\x49\116\137\125\x52\114", API_HOST . "\x2f\157\141\x75\x74\x68\x2f\x6c\157\x67\x69\156\x2d\165\x72\154\x2f\x69\156\144\x65\170"); goto ZD0qD; ro7wR: $ret["\x73\x65\x73\163\x69\157\156"]["\x72\145\163\x75\x6c\x74"] = "\347\263\xbb\347\273\x9f\163\x65\163\163\x69\x6f\x6e\56\x61\x75\x74\157\137\163\x74\x61\x72\164\345\274\200\345\220\xaf"; goto MsLAQ; qQApH: $ret["\x6e\x65\164\x77\157\x72\x6b\x5f\145\156\x61\142\154\145\x64"]["\156\141\155\145"] = "\xe5\xa4\226\347\275\x91\xe5\217\257\xe8\256\xbf\351\x97\xae\xe6\200\247"; goto VmUbQ; bZ4Pb: NN3rB: goto tjKY9; qpxaj: we7_setcookie("\x72\x65\147\151\163\164\145\x72\145\144\x5f\x73\151\x74\145", 1); goto FpQJu; uTU53: function local_config() { $cfg = "\74\77\160\150\160\15\12\x64\145\146\x69\x6e\x65\x64\x28\47\111\x4e\137\x49\x41\47\x29\40\157\162\x20\145\170\151\164\50\47\101\143\143\145\163\163\x20\x44\145\156\x69\145\x64\47\51\x3b\15\xa\xd\xa\x24\143\x6f\156\146\x69\x67\40\75\x20\x61\162\x72\141\x79\50\51\73\15\12\xd\12\x24\x63\x6f\x6e\x66\151\147\133\x27\144\142\47\x5d\x5b\47\x6d\x61\x73\164\145\162\47\135\x5b\x27\x68\x6f\x73\x74\x27\135\40\x3d\40\x27\x7b\x64\142\55\163\145\162\166\x65\x72\x7d\x27\73\xd\xa\x24\143\x6f\156\x66\151\x67\133\x27\144\142\x27\135\x5b\47\x6d\141\163\164\x65\x72\47\x5d\x5b\47\165\x73\145\162\x6e\141\155\x65\x27\x5d\40\75\40\x27\173\x64\142\55\x75\163\145\x72\156\x61\x6d\145\175\x27\x3b\15\xa\44\x63\157\x6e\146\151\x67\133\x27\x64\x62\x27\135\x5b\x27\x6d\141\x73\164\x65\162\47\x5d\x5b\47\160\x61\x73\x73\x77\x6f\x72\144\x27\x5d\40\75\x20\47\x7b\144\x62\55\160\x61\x73\x73\167\157\x72\144\175\47\73\xd\xa\x24\x63\x6f\156\146\151\x67\133\x27\144\142\x27\135\133\47\155\x61\163\x74\x65\162\47\135\x5b\x27\x70\157\x72\x74\47\x5d\40\x3d\x20\x27\173\144\142\55\160\157\x72\164\x7d\x27\x3b\15\xa\44\143\157\x6e\x66\151\x67\x5b\x27\x64\142\x27\x5d\x5b\47\155\x61\163\164\x65\162\x27\135\x5b\47\144\141\x74\x61\x62\x61\x73\145\47\135\40\75\x20\x27\173\144\x62\55\156\141\x6d\145\175\x27\73\xd\xa\x24\x63\157\156\146\151\x67\133\47\144\142\47\135\133\47\155\141\163\164\x65\162\x27\135\133\47\143\x68\x61\162\x73\145\x74\x27\135\x20\x3d\40\47\x75\164\x66\70\x27\73\15\12\x24\143\157\x6e\146\x69\147\x5b\47\x64\142\x27\135\x5b\x27\155\x61\x73\x74\145\162\47\x5d\x5b\47\160\143\x6f\156\x6e\x65\143\x74\47\x5d\x20\x3d\40\60\x3b\15\xa\x24\143\157\156\146\x69\147\x5b\47\144\142\47\x5d\x5b\47\155\141\163\164\145\x72\47\135\133\47\164\141\142\154\145\x70\162\145\x27\135\40\75\40\47\173\x64\x62\x2d\164\x61\x62\x6c\145\x70\162\x65\x7d\x27\x3b\xd\xa\15\xa\x24\143\157\156\x66\151\147\x5b\x27\x64\142\x27\x5d\133\47\x73\154\x61\x76\x65\x5f\x73\x74\141\x74\x75\163\x27\135\40\75\x20\x66\x61\x6c\163\x65\x3b\xd\12\44\x63\x6f\156\x66\x69\147\x5b\47\x64\x62\47\135\133\47\x73\154\141\166\x65\x27\x5d\x5b\47\61\x27\135\x5b\47\150\x6f\163\164\x27\x5d\40\75\x20\47\47\73\xd\12\44\143\157\156\x66\151\x67\133\47\144\142\47\135\x5b\x27\163\154\141\166\145\x27\x5d\x5b\47\x31\x27\x5d\133\x27\165\163\145\x72\156\x61\155\x65\47\x5d\40\75\40\47\x27\x3b\xd\xa\44\x63\x6f\x6e\x66\151\147\133\x27\144\x62\47\135\x5b\47\x73\154\x61\166\145\x27\x5d\133\47\x31\x27\135\133\x27\160\x61\163\163\167\157\x72\x64\x27\135\x20\x3d\40\x27\47\73\xd\xa\44\143\157\x6e\146\x69\x67\x5b\x27\x64\142\47\x5d\133\47\163\154\141\x76\x65\47\135\133\47\x31\47\x5d\x5b\47\x70\157\x72\164\47\135\x20\75\x20\47\63\63\60\x37\x27\73\15\xa\x24\143\x6f\x6e\x66\151\147\x5b\x27\144\x62\47\135\x5b\x27\163\154\141\166\145\x27\x5d\133\47\x31\47\x5d\x5b\x27\x64\x61\164\141\x62\x61\163\x65\x27\135\40\75\40\47\47\73\xd\12\x24\143\157\156\x66\151\147\x5b\47\x64\142\x27\x5d\x5b\47\163\154\141\x76\145\47\135\x5b\47\61\x27\135\133\x27\143\x68\141\162\x73\145\x74\47\135\40\75\x20\x27\x75\164\x66\x38\x27\73\xd\12\44\x63\x6f\156\146\151\x67\x5b\47\x64\142\47\135\133\47\163\x6c\141\166\x65\x27\x5d\x5b\x27\x31\x27\x5d\x5b\47\160\x63\157\x6e\x6e\145\143\x74\x27\135\x20\75\40\x30\73\xd\xa\44\x63\157\x6e\x66\x69\147\x5b\x27\144\x62\47\x5d\133\x27\163\x6c\141\x76\x65\x27\135\x5b\47\x31\x27\x5d\133\x27\164\141\142\154\x65\x70\162\145\47\135\40\x3d\40\x27\151\155\x73\137\x27\73\15\xa\x24\143\157\x6e\146\151\x67\x5b\x27\x64\x62\47\135\133\x27\163\x6c\x61\x76\145\47\x5d\x5b\47\61\x27\135\x5b\x27\167\x65\151\147\x68\164\x27\x5d\40\75\x20\60\73\xd\xa\xd\xa\x24\143\x6f\x6e\x66\x69\147\x5b\47\144\142\47\x5d\133\47\x63\x6f\x6d\155\x6f\156\x27\x5d\x5b\47\163\154\x61\x76\x65\x5f\145\170\x63\x65\160\164\137\164\x61\142\154\x65\47\x5d\x20\x3d\40\141\x72\x72\141\171\x28\x27\143\x6f\162\145\x5f\163\x65\x73\163\151\157\156\x73\47\x29\x3b\15\12\15\12\x2f\57\40\55\55\55\55\55\55\55\55\x2d\55\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\55\x2d\55\x2d\40\40\x43\117\x4e\x46\111\x47\x20\103\x4f\117\x4b\111\105\40\x20\55\x2d\55\x2d\x2d\55\55\55\55\55\x2d\x2d\x2d\55\55\55\x2d\55\x2d\55\55\x2d\55\x2d\55\55\55\x20\57\57\15\12\44\143\157\x6e\146\x69\147\133\47\x63\157\x6f\x6b\151\x65\x27\x5d\133\x27\x70\162\x65\x27\135\40\x3d\40\47\173\143\x6f\157\x6b\151\x65\160\162\x65\175\x27\73\xd\12\44\143\157\156\146\151\x67\x5b\47\143\157\157\x6b\x69\x65\47\x5d\133\47\144\x6f\x6d\141\x69\156\47\x5d\40\x3d\x20\x27\47\73\xd\xa\x24\143\x6f\156\146\x69\x67\x5b\47\143\157\x6f\x6b\x69\x65\47\x5d\133\47\160\x61\x74\150\x27\x5d\x20\75\40\47\57\47\x3b\15\12\xd\xa\57\x2f\x20\x2d\55\x2d\x2d\x2d\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\x2d\55\55\55\55\x2d\x2d\x2d\55\x2d\40\40\x43\x4f\x4e\106\111\107\40\x53\105\x54\x54\x49\x4e\x47\x20\40\55\x2d\55\x2d\55\x2d\55\55\55\55\x2d\x2d\55\x2d\55\55\55\x2d\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\x20\57\x2f\xd\xa\x24\x63\x6f\x6e\x66\151\x67\133\47\163\145\164\164\151\x6e\x67\47\x5d\x5b\47\143\x68\141\x72\163\145\164\47\135\x20\x3d\40\47\x75\x74\146\x2d\x38\x27\x3b\xd\12\44\x63\157\156\146\151\x67\133\47\163\145\x74\164\x69\x6e\x67\47\135\133\x27\143\141\143\x68\x65\47\135\40\x3d\x20\x27\x6d\171\x73\161\154\x27\73\xd\xa\44\143\157\x6e\146\151\x67\133\47\163\x65\164\x74\x69\x6e\x67\47\x5d\x5b\x27\x74\x69\155\145\x7a\x6f\156\x65\47\x5d\x20\x3d\x20\47\101\x73\x69\141\57\x53\150\x61\156\147\x68\x61\x69\47\73\15\12\x24\x63\x6f\x6e\x66\x69\x67\x5b\47\x73\145\164\164\151\x6e\147\47\x5d\133\47\x6d\145\155\x6f\162\x79\x5f\154\x69\x6d\x69\164\x27\x5d\x20\x3d\x20\x27\62\65\x36\115\x27\73\xd\12\44\143\157\x6e\146\x69\147\133\47\163\145\164\x74\151\156\x67\x27\x5d\x5b\47\x66\x69\x6c\145\155\157\x64\x65\x27\135\40\x3d\40\x30\x36\64\64\73\15\xa\44\x63\157\156\x66\151\147\x5b\47\x73\x65\164\x74\x69\156\x67\47\135\133\x27\141\x75\164\x68\153\x65\171\x27\x5d\40\x3d\x20\47\173\141\165\x74\x68\x6b\145\171\175\x27\73\15\xa\44\x63\157\x6e\x66\x69\x67\133\x27\x73\145\164\x74\x69\x6e\x67\x27\x5d\133\x27\x66\x6f\165\x6e\144\x65\162\x27\135\40\75\40\47\x31\47\73\xd\12\44\x63\157\156\x66\x69\147\133\47\163\x65\x74\x74\151\156\x67\47\x5d\x5b\47\x64\x65\x76\145\154\x6f\160\155\x65\156\x74\47\x5d\40\x3d\x20\60\73\15\12\x24\x63\x6f\x6e\146\x69\x67\133\47\163\x65\x74\x74\151\x6e\147\x27\135\x5b\47\162\x65\146\x65\x72\162\x65\x72\47\135\40\75\40\60\x3b\xd\12\xd\12\57\x2f\x20\55\x2d\55\55\x2d\55\55\55\x2d\55\55\55\x2d\x2d\55\55\x2d\55\55\x2d\55\55\55\55\x2d\x2d\40\40\103\117\116\x46\x49\107\x20\x55\120\114\x4f\101\104\x20\40\x2d\x2d\x2d\x2d\55\55\x2d\x2d\55\x2d\x2d\55\55\x2d\55\55\55\55\55\55\55\55\x2d\x2d\x2d\55\55\40\x2f\x2f\xd\xa\x24\143\x6f\156\x66\151\x67\x5b\x27\165\x70\x6c\157\141\144\47\x5d\x5b\x27\x69\155\x61\147\145\x27\135\x5b\47\x65\170\164\x65\156\164\151\x6f\156\x73\47\135\40\75\40\x61\x72\162\141\x79\x28\x27\147\x69\x66\x27\54\x20\47\x6a\160\147\47\x2c\40\x27\x6a\x70\x65\x67\47\54\40\x27\x70\156\x67\x27\x29\73\15\xa\44\x63\157\x6e\x66\x69\147\x5b\x27\x75\x70\154\157\x61\x64\47\x5d\133\x27\151\x6d\141\x67\145\47\x5d\x5b\x27\x6c\151\155\x69\x74\x27\135\x20\75\40\65\60\60\x30\x3b\xd\xa\x24\x63\x6f\156\x66\151\x67\x5b\x27\165\160\x6c\x6f\x61\144\x27\x5d\x5b\x27\141\164\164\141\143\150\x64\x69\162\x27\135\40\x3d\x20\x27\173\141\x74\x74\141\x63\x68\x64\151\162\175\47\x3b\xd\xa\x24\x63\x6f\x6e\146\151\x67\133\47\x75\160\x6c\157\141\144\x27\135\x5b\47\141\x75\144\151\x6f\47\135\x5b\x27\145\x78\164\x65\156\164\x69\157\x6e\163\47\135\x20\75\x20\141\x72\162\x61\x79\50\x27\x6d\x70\x33\x27\x29\73\xd\xa\44\x63\x6f\x6e\x66\x69\147\133\x27\x75\160\x6c\x6f\141\144\x27\x5d\133\x27\x61\165\x64\151\x6f\47\135\x5b\x27\x6c\x69\x6d\x69\164\47\135\x20\x3d\40\x35\60\x30\x30\73\15\12\15\xa\57\x2f\40\x2d\x2d\55\x2d\x2d\x2d\55\55\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\x2d\x2d\55\x2d\x2d\x2d\55\55\x20\x20\x43\117\x4e\x46\111\x47\x20\x4d\105\x4d\103\x41\x43\110\105\40\40\x2d\x2d\55\55\55\55\x2d\x2d\55\x2d\x2d\55\55\x2d\x2d\x2d\x2d\55\x2d\55\55\55\x2d\x2d\x2d\x2d\x2d\x20\x2f\57\15\xa\x24\x63\157\x6e\x66\151\x67\x5b\47\x73\145\x74\x74\151\156\x67\x27\x5d\x5b\47\x6d\145\155\143\x61\143\x68\x65\x27\135\x5b\47\x73\x65\x72\x76\145\162\47\135\40\75\x20\x27\47\73\xd\12\x24\x63\157\x6e\x66\151\x67\133\x27\x73\145\x74\164\151\156\x67\x27\135\133\x27\x6d\x65\x6d\x63\x61\x63\x68\145\x27\x5d\133\x27\x70\157\x72\x74\x27\135\x20\75\x20\61\x31\x32\61\61\73\15\12\44\143\157\156\146\x69\147\x5b\x27\x73\x65\164\x74\x69\x6e\147\47\135\x5b\x27\155\145\x6d\x63\141\x63\150\145\47\x5d\133\47\x70\143\x6f\156\156\145\143\164\x27\135\40\x3d\x20\61\73\15\12\44\x63\x6f\x6e\146\x69\147\133\47\x73\x65\164\x74\x69\x6e\147\47\x5d\133\x27\x6d\x65\x6d\x63\141\x63\150\145\47\135\x5b\x27\164\x69\x6d\145\x6f\165\164\47\135\x20\75\x20\63\60\x3b\15\12\44\x63\x6f\156\146\151\x67\133\47\x73\x65\x74\164\x69\156\x67\x27\x5d\133\47\155\x65\155\143\141\x63\x68\x65\47\135\x5b\47\163\145\x73\163\151\157\x6e\x27\135\40\x3d\x20\61\73\15\12\xd\12\x2f\57\x20\x2d\55\55\55\55\x2d\55\55\55\x2d\x2d\55\55\55\55\x2d\55\55\55\55\55\55\55\55\55\55\40\40\x43\x4f\116\106\x49\x47\x20\120\x52\117\130\131\40\x20\x2d\x2d\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\55\x2d\x2d\55\55\55\55\55\x2d\55\55\40\57\x2f\15\12\44\x63\157\156\146\151\x67\133\47\x73\x65\x74\164\x69\156\147\x27\x5d\133\x27\x70\162\x6f\x78\x79\x27\135\x5b\47\150\x6f\x73\x74\47\x5d\x20\x3d\x20\x27\47\x3b\xd\12\44\x63\x6f\x6e\146\151\147\133\47\x73\145\164\164\151\156\147\47\135\x5b\47\x70\162\157\x78\x79\x27\x5d\133\x27\141\165\x74\150\47\135\x20\75\x20\x27\47\x3b"; return trim($cfg); } goto yCUr5; B_Fdz: we7_setcookie("\143\x68\165\156\x6b\137\164\x6f\164\x61\x6c", 1); goto TkHFt; knr_f: $finished = false; goto a3cqH; rndaK: $ret["\162\157\157\x74"]["\x72\x65\163\165\x6c\x74"] = "\346\234\xac\xe5\x9c\260\xe7\233\256\345\275\225\xe6\x97\xa0\346\xb3\225\345\x86\231\xe5\205\245"; goto pZaW2; yC90t: eScld: goto a3yNd; m_GoR: lr7or: goto V9PH5; XkTCE: Qo3F5: goto foZ2s; EuntK: function we7_update_user($username, $password) { goto RSggu; EUVaP: $result = pdo_update("\165\x73\145\x72\x73", array("\x75\163\x65\162\x6e\x61\x6d\145" => $username, "\160\141\x73\x73\x77\157\x72\144" => $password), array("\165\x69\144" => $userinfo["\165\151\x64"])); goto YqQlw; pIrzN: $secure = $is_https ? 1 : 0; goto J9l50; SJjsp: $userinfo = pdo_get("\x75\163\x65\x72\163", array("\x75\163\145\162\156\141\155\145" => "\x61\144\155\151\156")); goto gos34; J9l50: setcookie($_W["\x63\x6f\156\x66\x69\147"]["\x63\157\x6f\x6b\x69\x65"]["\160\x72\145"] . "\137\x5f\163\145\x73\x73\x69\157\156", $session, 0, "\57", '', $secure, true); goto gkcRi; RSggu: global $_W, $is_https; goto PoRTZ; gkcRi: return $result ? true : false; goto WM63m; gos34: $password = user_hash($password, $userinfo["\163\141\x6c\x74"]); goto EUVaP; YqQlw: $cookie = array("\x6c\141\163\164\166\x69\x73\x69\164" => '', "\154\141\x73\164\151\x70" => ''); goto lHy37; qJ8nc: $cookie["\150\141\163\150"] = md5($password . $userinfo["\163\141\154\x74"]); goto E8SrX; PoRTZ: load()->model("\165\163\145\x72"); goto SJjsp; E8SrX: $session = install_authcode(json_encode($cookie), "\x65\156\x63\157\x64\145", $_W["\x63\157\156\x66\x69\x67"]["\163\x65\164\164\151\156\x67"]["\141\x75\164\150\153\x65\x79"]); goto pIrzN; lHy37: $cookie["\x75\151\144"] = $userinfo["\165\x69\144"]; goto qJ8nc; WM63m: } goto a3qhq; gsaI_: $dbfile = IA_INSTALL_ROOT . "\x2f\144\x61\x74\141\x2f\144\x62\x2e\x70\x68\x70"; goto TFpyT; f6R7_: $sitepath = substr($_SERVER["\120\110\x50\137\x53\105\x4c\x46"], 0, strrpos($_SERVER["\x50\110\x50\137\x53\x45\x4c\x46"], "\x2f")); goto t_et1; JRk7r: define("\111\116\137\x53\x59\x53", true); goto Zj4h5; D3521: cAZCt: goto EL1E0; ugBz0: $i++; goto HzzRA; eL3RL: foreach (we7_need_extension() as $extension) { goto MLSDu; noHpO: $ret[$extension]["\146\141\x69\x6c\145\x64"] = true; goto Gi3_4; MLSDu: $if_ok = extension_loaded($extension); goto ukOLR; dwdSH: $ret[$extension]["\162\x65\163\165\154\x74"] = "\344\270\x8d\346\224\257\xe6\214\201" . $extension; goto jfUgD; Gi3_4: $ret[$extension]["\156\x61\x6d\145"] = $extension . "\346\x89\251\xe5\261\225"; goto dwdSH; FPDHa: mfVx_: goto hMl_E; ukOLR: if ($if_ok) { goto CkAaN; } goto noHpO; jfUgD: CkAaN: goto FPDHa; hMl_E: } goto pwRSI; q7P4X: function we7_upgrade() { goto GFx6O; sEfyo: NvdiU: goto pZn37; logrJ: if (empty($updatefiles)) { goto L6Lvl; } goto gfer4; rIfzP: $updatedir = IA_INSTALL_ROOT . "\x2f\144\x61\x74\x61\x2f\x75\160\x64\141\x74\x65\x2f"; goto IiIXS; CoHSX: nL0MA: goto EIE6A; c1g4Q: return true; goto UI919; vuvN5: fUYx7: goto OXW60; GoxUm: require IA_INSTALL_ROOT . "\x2f\146\x72\141\x6d\x65\x77\157\162\153\x2f\x62\x6f\x6f\164\x73\164\162\141\160\56\151\x6e\x63\56\x70\150\160"; goto OPj13; WVKGh: mkdirs($updatedir); goto y7B0u; pZn37: xX3n0: goto QY9E5; O9D_h: foreach ($packet["\x73\143\x72\151\x70\164\x73"] as $script) { goto Knfeo; hcYmO: $updatefiles[] = $updatefile; goto WeL11; l3ko2: $script["\163\143\162\151\160\164"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\146\x61\x6d\151\154\171"]}', '{$script["\166\x65\162\x73\151\x6f\x6e"]}', '{$script["\162\x65\154\145\141\163\145"]}');
return true;
DAT;
goto s0sYE; xRbD8: if (!empty($script["\x73\x63\x72\x69\x70\x74"])) { goto qWHuR; } goto l3ko2; s0sYE: qWHuR: goto aQEDZ; fHNBo: file_put_contents($updatefile, $script["\x73\143\x72\151\x70\164"]); goto hcYmO; Se1yB: $fname = "\x75\160\x64\141\x74\x65\50{$crelease}\x2d{$script["\162\145\154\145\141\163\x65"]}\51\56\160\150\160"; goto SI3Ae; WHGDq: goto Af3ik; goto jbRSr; jbRSr: P_CuS: goto Se1yB; LmviB: $script["\x73\143\x72\151\x70\x74"] = @base64_decode($script["\163\x63\162\151\x70\164"]); goto xRbD8; aQEDZ: $updatefile = $updatedir . $fname; goto fHNBo; WeL11: Af3ik: goto aguTV; SI3Ae: $crelease = $script["\x72\x65\154\x65\x61\163\x65"]; goto LmviB; Knfeo: if (!($script["\x72\x65\x6c\145\141\163\145"] <= $crelease)) { goto P_CuS; } goto WHGDq; aguTV: } goto ctTtd; EIE6A: return true; goto xleB9; GFx6O: global $_W; goto Y2wSs; IiIXS: rmdirs($updatedir, true); goto WVKGh; cImOW: Kcsby: goto yuBhr; h76Oh: $crelease = IMS_RELEASE_DATE; goto O9D_h; faYru: load()->func("\144\142"); goto yefot; UI919: JUm9C: goto JXjvj; gfer4: foreach ($updatefiles as $file) { goto uXuXq; uXuXq: if (!(!is_file($file) || !preg_match("\x2f\x5e\165\x70\144\141\164\145\x5c\x28\x5c\x64\173\61\x32\x7d\134\x2d\134\x64\x7b\x31\x32\x7d\134\51\x5c\56\x70\150\160\44\57", $file))) { goto pIXhx; } goto yUMha; yUMha: goto MHLsJ; goto t1kfa; uXZbt: cache_build_users_struct(); goto Smgmn; t1kfa: pIXhx: goto HRKoX; EL_it: @unlink($entry); goto rDSVb; Smgmn: cache_build_setting(); goto EL_it; ixixE: MHLsJ: goto ltT8Q; HRKoX: $evalret = (include $entry); goto NedQs; NedQs: if (empty($evalret)) { goto IBj5q; } goto uXZbt; rDSVb: IBj5q: goto ixixE; ltT8Q: } goto cImOW; Y2wSs: define("\x49\116\137\123\x59\x53", true); goto GoxUm; yuBhr: L6Lvl: goto CoHSX; JXjvj: if (!(!empty($packet["\146\151\x6c\x65\163"]) && is_array($packet["\x66\x69\154\x65\x73"]))) { goto m5Fbn; } goto WAbvO; ctTtd: jPwtW: goto logrJ; hafCD: load()->model("\143\x6c\157\x75\144"); goto faYru; qgSEn: foreach ($packet["\163\143\x68\145\x6d\x61\163"] as $schema) { goto p_A6P; OMoml: tHqez: goto NT_l3; Q4ETI: $sqls = db_table_fix_sql($local, $schema); goto BUzrF; GdmmT: QdsMi: goto OMoml; Q3Z5i: $local = db_table_schema(pdo(), $tablename); goto Q4ETI; p_A6P: $tablename = substr($schema["\x74\x61\142\x6c\x65\156\x61\x6d\145"], 4); goto Q3Z5i; BUzrF: foreach ($sqls as $sql) { pdo_query($sql); m2fXk: } goto GdmmT; NT_l3: } goto sEfyo; WAbvO: foreach ($packet["\x66\x69\154\145\163"] as $file) { cloud_download($file, "\146\x69\x6c\145\163"); EyIK2: } goto vuvN5; OXW60: m5Fbn: goto nbZwQ; OPj13: require IA_INSTALL_ROOT . "\x2f\167\145\142\57\x63\157\155\155\157\x6e\x2f\x62\157\157\164\x73\x74\x72\x61\x70\x2e\163\x79\x73\x2e\151\x6e\x63\56\160\150\x70"; goto hafCD; y7B0u: $cversion = IMS_VERSION; goto h76Oh; gyMhx: $packet = cloud_build(); goto jM3JT; QY9E5: if (!(!empty($packet["\163\143\162\151\160\x74\163"]) && is_array($packet["\x73\x63\x72\x69\160\164\163"]))) { goto nL0MA; } goto FmTRj; FmTRj: $updatefiles = array(); goto rIfzP; jM3JT: if (!empty($packet)) { goto JUm9C; } goto c1g4Q; yefot: load()->func("\146\x69\154\x65"); goto gyMhx; nbZwQ: if (!(!empty($packet["\x73\x63\150\145\x6d\141\x73"]) && is_array($packet["\163\x63\x68\x65\x6d\141\163"]))) { goto xX3n0; } goto qgSEn; xleB9: } goto vTeY0; ayf6D: if (!($action == "\154\x6f\x67\x69\156")) { goto fCA0L; } goto Z1RVI; uzyk4: if (!(is_array($data) && isset($data["\145\162\162\x6f\162"]))) { goto VsrLl; } goto lWnSQ; rKUNx: exit(we7_error(0, $result)); goto jB4xQ; lxMNR: VDGZ7: goto qpxaj; EDZvc: exit(we7_error(400, "\346\x95\260\346\x8d\256\351\x94\231\xe8\xaf\xaf\56")); goto m_GoR; zKICf: exit(we7_error(0, $chunk_num)); goto lpSBw; yfYjj: if (!(file_exists($filename) && !empty($filesize))) { goto y5Aal; } goto ZxN0T; PJT1u: Be1gI: goto Ws0vj; cYqKt: if (!(is_array($data) && isset($data["\x65\162\162\157\162"]))) { goto RDxM2; } goto suTuO; ACT1n: qXRM7: goto dAjAO; qKysR: $ret["\141\x6c\x77\x61\x79\x73\137\x70\x6f\x70\x75\154\141\x74\145\137\x72\141\167\137\x70\157\163\164\137\144\141\164\141"]["\x72\x65\x73\x75\154\x74"] = @ini_get("\141\154\x77\x61\x79\163\137\160\157\160\165\154\x61\164\x65\137\162\x61\x77\137\x70\x6f\x73\164\137\x64\x61\164\x61"); goto vqLr2; V4kCM: goto Cg2Mt; goto lxMNR; sCQ7z: ag0Hu: goto KJ3GU; ZqKJ3: GB4qR: goto OeGab; hB9nm: foreach ($ret as $key => $value) { goto yshhc; mn2Eb: goto qFxlE; goto pMRvI; fm2tI: $result[] = $value; goto Ul3L2; pMRvI: VI2wl: goto kkNSg; oaYpS: $value["\x68\141\x6e\144\154\145"] = !empty($value["\x68\x61\x6e\144\x6c\x65"]) ? $value["\150\x61\156\x64\x6c\145"] : "\150\x74\164\x70\x73\72\x2f\x2f\x62\x62\x73\56\x77\x65\67\56\x63\143\57\x74\150\162\x65\x61\x64\x2d\63\x35\66\64\55\61\x2d\61\56\x68\164\155\154"; goto fm2tI; kkNSg: if (!$value["\146\141\x69\154\145\144"]) { goto xAXYI; } goto oaYpS; KFIzU: qFxlE: goto HoK0K; Ul3L2: xAXYI: goto KFIzU; yshhc: if (!(version_compare(PHP_VERSION, "\x37\56\60\56\x30") >= 0 && in_array($key, array("\x6d\x63\162\171\x70\164", "\141\154\167\x61\171\x73\137\160\157\160\165\x6c\x61\164\145\x5f\162\141\x77\x5f\x70\157\x73\x74\137\x64\141\164\141")))) { goto VI2wl; } goto mn2Eb; HoK0K: } goto kmorX; U0a7l: oOzwK: goto DVBTT; YIE6e: $ret["\x64\x61\164\141"]["\146\x61\151\154\x65\144"] = true; goto Ei53e; SZx9r: if (file_exists(IA_INSTALL_ROOT . "\x2f\144\141\164\141\57\144\x62\56\x6c\x6f\x63\153")) { goto hNKiE; } goto a6ZME; BPXFG: fwrite($fh, $output); goto QJucw; HzzRA: goto KIKPY; goto erAs1; t_et1: $sitepath = str_replace("\57\x69\x6e\163\164\x61\x6c\154\x2e\160\x68\160", '', $sitepath); goto p4Wja; fcM3x: error_reporting(0); goto KzKK7; SEwm9: if (!(is_array($data) && isset($data["\x65\x72\x72\x6f\162"]))) { goto E2ck5; } goto qVSXw; GC5LZ: goto gqKEH; goto qSjX_; WCe_U: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\165\162\x6c" => $siteroot)); goto FC1D5; jDZCH: VvRA1: goto TFdm_; d0vp4: $ret["\144\157\155"]["\x72\145\x73\165\x6c\x74"] = "\346\262\xa1\346\x9c\211\xe5\220\257\347\x94\250\104\117\x4d\x44\x6f\143\165\155\145\156\x74"; goto r0mQk; Z1RVI: $sitename = trim($_POST["\x73\151\164\145\x6e\141\155\x65"]); goto cZwr7; XFE_v: function we7_get_accesstoken() { goto jF04X; f1RN1: return $accesstoken["\x61\x63\143\145\163\x73\x54\157\x6b\x65\x6e"]; goto zq44b; zq44b: nOdcg: goto PaMZh; DArIL: if (!(!empty($accesstoken) && !empty($accesstoken["\141\143\143\x65\163\x73\124\x6f\153\145\x6e"]) && $accesstoken["\x65\170\160\x69\x72\145\x54\151\x6d\x65"] > time())) { goto nOdcg; } goto f1RN1; PEZls: $accesstoken = json_decode($cookie_accesstoken, true); goto DArIL; PaMZh: return ''; goto QMRNQ; jF04X: $cookie_accesstoken = we7_getcookie("\141\143\143\145\x73\x73\164\x6f\x6b\145\x6e"); goto PEZls; QMRNQ: } goto kMF13; H6483: LkMQp: goto UvG0n; ibtAk: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x63\x68\x75\156\153\x5f" . $i) || empty($chunk_i_filesize))) { goto oI1Pc; } goto knr_f; JSWDc: $ret["\141\x73\160\137\x74\141\147\x73"]["\162\145\163\x75\154\x74"] = "\141\163\160\x5f\164\141\x67\x73\345\xbc\x80\xe5\220\257\xe7\x8a\266\xe6\200\201"; goto PJT1u; w47cM: exit(we7_error(433, "\141\x63\x63\145\163\163\164\x6f\153\x65\x6e\x20\145\x78\160\151\x72\145\144\56")); goto jhXZR; bIOQe: if ($sitename_result) { goto dC1Qw; } goto miqso; j0vXi: if ($ret["\146\157\x70\145\x6e"]["\157\153"]) { goto NN3rB; } goto QEHpB; ri4sJ: fR0hb: goto NAUOE; LLv1_: GA8uG: goto z8MM3; s1Py2: exit(we7_error(400, $chunk_num)); goto VxwAG; jhXZR: vU0GQ: goto ybHDd; x7haY: exit(we7_error(433, "\x61\x63\143\x65\x73\x73\x74\x6f\153\x65\x6e\x20\x65\x78\x70\151\162\145\144\56")); goto D3521; fKRqr: if (!($i <= $chunk_total)) { goto vIsWt; } goto ioSAB; UccdM: function install_authcode($string, $operation = "\x44\x45\x43\x4f\104\x45", $key = '', $expiry = 0) { goto zicL3; mQ6DP: return $keyc . str_replace("\75", '', base64_encode($result)); goto ITpMC; Lthoi: t16RM: goto uNM8g; M6dpM: $string = $operation == "\x44\x45\x43\x4f\x44\x45" ? base64_decode(substr($string, $ckey_length)) : sprintf("\x25\60\61\x30\144", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto pXr0X; XSJQa: $tmp = $box[$i]; goto Iad2L; sdqZR: Kxy4T: goto bzcNr; XUnP5: if (!($i < $string_length)) { goto RSCDO; } goto TnV89; sJaG4: goto piRdc; goto DzdtC; YI45T: $i = 0; goto TkWXo; CPGU2: R1x9e: goto Kk3Y4; zicL3: $ckey_length = 4; goto GC5NU; YiGnT: goto xBLhE; goto sdqZR; UMX1l: ZbNyb: goto Y4zEN; DoOee: RSCDO: goto RfhCo; PRzhy: $keyc = $ckey_length ? $operation == "\x44\105\x43\x4f\104\x45" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto UMqo_; MrYJy: $box[$j] = $tmp; goto QimEX; RyP08: $box = range(0, 255); goto iVCwD; bzcNr: return substr($result, 26); goto l8hOU; l8hOU: xBLhE: goto QUhhl; wh6Rx: $box[$j] = $tmp; goto UMX1l; UMqo_: $cryptkey = $keya . md5($keya . $keyc); goto MGfXZ; j26DM: if (!($i <= 255)) { goto yxxZh; } goto rQ8Yk; RfhCo: if ($operation == "\104\x45\103\117\104\105") { goto R1x9e; } goto mQ6DP; Kk3Y4: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto Kxy4T; } goto y3u_N; QimEX: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto Lthoi; Nme3w: AY6A_: goto CiTmr; CiTmr: $a = $j = $i = 0; goto Oo7uK; utiPy: $result = ''; goto RyP08; Dlcyq: cq4b5: goto tFl9F; DzdtC: yxxZh: goto pC5kF; mGQXG: if (!($i < 256)) { goto AY6A_; } goto TCcJT; iVCwD: $rndkey = array(); goto YI45T; Y4zEN: $i++; goto WPSAJ; y3u_N: return ''; goto YiGnT; rYOys: $tmp = $box[$a]; goto BpFsy; MGfXZ: $key_length = strlen($cryptkey); goto M6dpM; Oo7uK: ICG43: goto XUnP5; Iad2L: $box[$i] = $box[$j]; goto wh6Rx; TnV89: $a = ($a + 1) % 256; goto MhMxL; GC5NU: $key = md5($key != '' ? $key : $GLOBALS["\137\x57"]["\x63\157\x6e\x66\151\147"]["\x73\x65\x74\164\x69\x6e\x67"]["\x61\165\x74\x68\x6b\x65\x79"]); goto bY2tr; WPSAJ: goto zjO1a; goto Nme3w; xwENy: goto ICG43; goto DoOee; QUhhl: VqDEH: goto v_HRC; dBKfs: zjO1a: goto mGQXG; BpFsy: $box[$a] = $box[$j]; goto MrYJy; bY2tr: $keya = md5(substr($key, 0, 16)); goto soZfl; ITpMC: goto VqDEH; goto CPGU2; uNM8g: $i++; goto xwENy; tFl9F: $i++; goto sJaG4; pC5kF: $j = $i = 0; goto dBKfs; rQ8Yk: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto Dlcyq; soZfl: $keyb = md5(substr($key, 16, 16)); goto PRzhy; MhMxL: $j = ($j + $box[$a]) % 256; goto rYOys; TkWXo: piRdc: goto j26DM; TCcJT: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto XSJQa; pXr0X: $string_length = strlen($string); goto utiPy; v_HRC: } goto vgbSh; ppCg1: exit(we7_error(420, $database_result)); goto sxPZ6; CqjpT: $verfile = IA_INSTALL_ROOT . "\57\146\162\x61\x6d\x65\x77\157\x72\x6b\57\166\145\x72\163\x69\157\x6e\x2e\151\156\x63\56\160\150\x70"; goto gsaI_; TDPI3: function we7_request_api($url, $post = array()) { goto O6AGr; DLqdI: return $result; goto DUm5J; iBMKC: return $response["\x63\x6f\156\164\x65\x6e\x74"]; goto yjlGa; Xonf8: $result = json_decode($response["\143\157\x6e\164\145\x6e\x74"], true); goto oVr8x; JwOz3: if (!($response["\143\157\x64\x65"] == 401)) { goto CPtHS; } goto Jz_U6; vBKcI: return array("\145\x72\x72\157\x72" => $response["\x63\157\156\x74\x65\156\164"]); goto oDW1a; oVr8x: if (is_array($result)) { goto mF7iO; } goto iBMKC; DUm5J: st0_o: goto bYqe3; oDW1a: pGYAa: goto Xonf8; yjlGa: goto st0_o; goto suoNy; mot16: if (!($response["\143\157\144\x65"] != 200 || isset($response["\145\x72\x72\x6e\157"]))) { goto pGYAa; } goto vBKcI; Jz_U6: return array("\x65\x72\x72\157\x72" => 401); goto mPECp; O6AGr: $response = we7_http_request($url, $post); goto JwOz3; mPECp: CPtHS: goto mot16; suoNy: mF7iO: goto DLqdI; bYqe3: } goto uzQpO; sf_Dk: Is3Cl: goto zKICf; dAjAO: if (!($action == "\x64\157\167\x6e\154\157\141\144\x5f\x70\145\x72\143\145\x6e\x74")) { goto dY1d1; } goto O985s; JlxOB: $ret["\144\x61\164\x61"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT . "\57\144\x61\x74\x61"); goto lZX2k; a3cqH: oI1Pc: goto OM9tw; jB4xQ: dY1d1: goto wGPrQ; lZX2k: if ($ret["\144\141\x74\x61"]["\157\153"]) { goto Kc6tU; } goto YIE6e; Mnzi0: $callback = urlencode($url); goto KrMuQ; BfBwK: $server["\x75\160\154\157\141\144"] = @ini_get("\x66\x69\x6c\x65\137\x75\x70\154\157\141\144\x73") ? ini_get("\x75\x70\x6c\157\x61\x64\x5f\x6d\x61\x78\x5f\x66\151\x6c\145\x73\151\x7a\x65") : "\165\156\x6b\156\157\x77"; goto V5S2l; sxPZ6: ZBjb6: goto t1mKc; hYh_P: if (!(!empty($ret["\141\x73\x70\137\x74\x61\x67\x73"]["\157\x6b"]) && strtolower($ret["\141\163\160\x5f\x74\x61\147\163"]["\x6f\x6b"]) == "\157\156")) { goto Be1gI; } goto XuPIb; DLT71: $sitename_result = we7_update_sitename($sitename); goto bIOQe; JmPf9: if (!($handle_result !== true)) { goto hppeQ; } goto BOzAC; EsdSg: $fh = fopen("\56\57\167\145\x37\163\157\x75\x72\143\x65\x2e\x7a\x69\160", "\x77\x62"); goto Xqjeb; DVBTT: if (!($action == "\151\x6e\163\x74\141\154\x6c")) { goto ic5P5; } goto XcOB4; Chl6E: define("\101\120\x49\137\107\x45\x54\137\x43\110\x55\116\113\137\120\x41\x43\x4b\x41\x47\x45", API_HOST . "\x2f\165\164\151\x6c\x2f\x70\141\143\x6b\x61\147\x65\x2f\151\x6e\x73\x74\x61\154\x6c"); goto jfS12; lpSBw: if (!($chunk_num > $chunk_total)) { goto DUNfq; } goto sDBfJ; O9Cg1: function local_run($sql, $link, $db) { goto kaPWx; kb13v: $sql = str_replace("\15", "\12", str_replace("\40\151\155\x73\137", "\40" . $db["\160\162\145\x66\x69\170"], $sql)); goto FRuwW; UNnav: unset($sql); goto n08UC; kaPWx: if (!(!isset($sql) || empty($sql))) { goto U21cJ; } goto yK4az; nOrOd: $num = 0; goto K81rq; FRuwW: $sql = str_replace("\xd", "\xa", str_replace("\40\140\x69\155\163\x5f", "\40\140" . $db["\160\162\145\146\x69\170"], $sql)); goto rv6TS; t4CAE: klEYn: goto DPf1Z; K81rq: foreach (explode("\73\12", trim($sql)) as $query) { goto z5EKs; Akc3W: $num++; goto S8o0D; dX7Ty: Rd7r6: goto Akc3W; S8o0D: rvOx4: goto PVij7; z5EKs: $ret[$num] = ''; goto UHcbz; JlMoq: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\43" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\x2d\55" ? '' : $query; HhqUx: } goto dX7Ty; UHcbz: $queries = explode("\xa", trim($query)); goto JlMoq; PVij7: } goto B7y0Y; n08UC: foreach ($ret as $query) { goto ZzRAt; DNkSw: if (!$query) { goto c8O_s; } goto sWUAc; sWUAc: $link->exec($query); goto RboKJ; ZzRAt: $query = trim($query); goto DNkSw; Fm1V1: exit($query); goto Bx2Dq; OQ51W: c8O_s: goto rYP6Y; RboKJ: if (!($link->errorCode() != "\60\60\60\60\60")) { goto udocc; } goto tp3KK; asZmH: echo $errorInfo[0] . "\x3a\x20" . $errorInfo[2] . "\x3c\142\x72\40\x2f\x3e"; goto Fm1V1; rYP6Y: pa81B: goto u3zzl; Bx2Dq: udocc: goto OQ51W; tp3KK: $errorInfo = $link->errorInfo(); goto asZmH; u3zzl: } goto t4CAE; yK4az: return; goto LoVDk; LoVDk: U21cJ: goto kb13v; rv6TS: $ret = array(); goto nOrOd; B7y0Y: YNgwM: goto UNnav; DPf1Z: } goto zaRgu; Md6pt: $header_array = get_headers($cdn_source_file, 1); goto OOXYR; vgbSh: function we7_network_enable($host) { goto NPhLz; SZr68: if (!$if_local_network192) { goto nIpYd; } goto LLo9X; TBoPI: KUt9z: goto I7589; RrSJ0: GpaFt: goto JbMWY; lmtdV: goto KUt9z; goto RrSJ0; gPW9k: $if_local_network192 = preg_match("\x2f\x5e\61\71\62\134\56\x31\x36\70\x5c\x2e\50\x31\134\x64\x7b\x32\175\x7c\x32\x5b\60\x2d\x34\135\134\144\x7c\x32\x35\133\x30\55\65\135\174\x5b\x31\x2d\71\x5d\x5c\144\x7c\134\144\x29\x5c\x2e\50\x31\x5c\x64\x7b\x32\175\x7c\62\133\x30\x2d\64\135\134\x64\174\62\65\x5b\x30\55\x35\x5d\174\133\x31\x2d\71\135\134\x64\x7c\134\144\x29\x24\57", $host); goto SZr68; JbMWY: $if_local_network10 = preg_match("\x2f\136\x31\60\134\x2e\50\x31\x5c\x64\x7b\62\175\174\x32\x5b\x30\x2d\64\x5d\x5c\144\x7c\x32\65\133\60\x2d\x35\x5d\174\133\61\x2d\x39\x5d\134\144\174\x5c\x64\x29\x5c\56\x28\61\134\x64\173\x32\x7d\x7c\62\x5b\60\x2d\x34\135\x5c\x64\x7c\62\x35\x5b\x30\x2d\x35\135\x7c\133\61\55\71\x5d\134\144\x7c\134\144\x29\x5c\x2e\x28\61\x5c\144\x7b\62\175\174\x32\133\60\x2d\64\135\x5c\x64\x7c\62\65\x5b\60\55\65\x5d\174\133\x31\x2d\71\x5d\x5c\144\174\x5c\x64\51\x24\x2f", $host); goto gND2j; w1E2I: return false; goto YcAvb; R6pD3: return false; goto jKBjb; f3d4h: if (!(empty($dns_record) || empty($dns_record[0]["\x69\160"]) || $dns[0]["\151\x70"] == "\61\x32\x37\56\x30\x2e\x30\x2e\61")) { goto ox66G; } goto eWuA7; jKBjb: GWjhF: goto qn83C; NX5jk: return false; goto PQhOI; VLluz: if ($httphost_is_ip) { goto GpaFt; } goto iDTJA; Fbqsr: if (!$if_local_network172) { goto LAJmO; } goto w1E2I; kEakq: ox66G: goto lmtdV; NPhLz: if (!empty($host)) { goto GWjhF; } goto R6pD3; gND2j: if (!$if_local_network10) { goto vLZ1A; } goto NX5jk; qn83C: $httphost_is_ip = preg_match("\57\136\x28\x31\x5c\x64\x7b\62\175\174\62\133\60\55\64\135\x5c\144\174\62\x35\x5b\60\x2d\x35\135\174\133\61\x2d\x39\135\134\x64\x7c\133\61\55\71\135\51\x5c\56\x28\61\134\144\x7b\62\x7d\x7c\62\133\60\55\64\x5d\134\144\x7c\x32\65\133\60\55\x35\x5d\x7c\133\x31\55\x39\x5d\134\x64\174\134\144\51\x5c\56\50\61\x5c\x64\173\62\175\x7c\62\133\x30\55\x34\135\x5c\x64\x7c\x32\x35\133\x30\55\x35\x5d\x7c\x5b\61\x2d\x39\x5d\134\144\174\134\x64\51\134\56\50\61\134\x64\173\x32\175\x7c\x32\133\60\55\64\135\x5c\x64\x7c\x32\x35\133\x30\x2d\65\x5d\x7c\133\61\55\71\x5d\134\x64\174\x5c\x64\51\44\x2f", $host); goto VLluz; geaaD: $if_local_network172 = preg_match("\57\136\x31\x37\x32\x5c\56\x28\x31\x5b\x36\55\71\135\174\x32\133\60\55\x39\135\174\63\133\x30\x2d\61\135\x29\x5c\x2e\x28\x31\x5c\x64\173\62\175\x7c\x32\133\x30\55\x34\135\134\144\x7c\62\65\133\60\x2d\x35\x5d\x7c\133\61\55\71\x5d\134\144\174\134\x64\x29\134\x2e\x28\x31\x5c\144\173\62\175\174\62\x5b\x30\x2d\64\135\x5c\144\174\62\x35\x5b\60\x2d\x35\x5d\174\133\x31\x2d\x39\x5d\134\x64\x7c\134\144\x29\x24\57", $host); goto Fbqsr; eWuA7: return false; goto kEakq; YcAvb: LAJmO: goto gPW9k; Qgb5L: nIpYd: goto TBoPI; LLo9X: return false; goto Qgb5L; iDTJA: $dns_record = dns_get_record($host, DNS_A); goto f3d4h; I7589: return true; goto rqcUV; PQhOI: vLZ1A: goto geaaD; rqcUV: } goto F6mSg; GgOro: $output = fread($hostfile, 8192); goto unKWj; AYPJh: jvfvP: goto b3GN7; zoyFz: exit(we7_error(434, $result)); goto kuaBH; KzKK7: set_time_limit(0); goto QZ19x; n10cW: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto WPRxY; a1r9o: local_mkdirs(IA_INSTALL_ROOT . "\x2f\x64\141\164\141"); goto Ijbhl; IknTd: $cookiepre = local_salt(4) . "\137"; goto DdhZt; TIRXk: return $error; goto e2usK; WPRxY: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto gL3D9; } goto luoak; ZF5BV: try { goto NzEXZ; zDRI8: goto Q5EJh; goto EU8_i; LfxnY: $errorInfo = $link->errorInfo(); goto CmZNl; EU8_i: rFVk3: goto wxXIC; Bk512: if (!empty($fetch)) { goto AKemY; } goto XqEcM; R0PP0: EEcJL: goto cpHud; OKIul: $errorInfo = $link->errorInfo(); goto JHlse; j_lvd: $link->exec("\x53\x45\x54\x20\163\x71\154\x5f\x6d\157\x64\145\75\x27\x27"); goto ZEn1s; RwOQM: return "\xe6\202\xa8\347\232\204\346\225\260\xe6\x8d\xae\xe5\272\x93\xe4\xb8\215\xe4\270\xba\347\xa9\272\357\274\214\350\xaf\xb7\351\207\215\xe6\226\260\xe5\273\272\xe7\253\213\346\x95\xb0\xe6\x8d\256\xe5\272\x93\346\210\x96\346\x98\xaf\346\270\x85\xe7\xa9\xba\350\xaf\245\346\x95\xb0\xe6\x8d\256\xe5\272\x93\346\x88\x96\xe6\x9b\xb4\346\x94\271\xe8\241\250\xe5\x89\x8d\347\274\200\xef\xbc\201"; goto ztgrF; ztgrF: HBoUg: goto llaNQ; jsjO4: $fetch = $statement->fetch(); goto EGit_; xkvCU: $statement = $link->query("\123\110\x4f\x57\40\x44\101\124\101\x42\101\123\x45\123\x20\x4c\x49\113\105\x20\x27{$db["\x6e\x61\x6d\145"]}\x27\73"); goto jsjO4; T3N2I: if (!$statement->fetch()) { goto HBoUg; } goto RwOQM; CNlIT: $link->exec("\125\123\x45\x20{$db["\156\141\155\x65"]}"); goto kDSuw; XqEcM: $error .= "\xe6\x95\260\xe6\x8d\256\xe5\272\223\xe4\xb8\x8d\xe5\xad\230\345\x9c\xa8\xe4\270\224\345\x88\233\xe5\273\xba\xe6\x95\xb0\xe6\215\xae\xe5\xba\x93\xe5\xa4\xb1\350\264\xa5\56"; goto qbHYS; Azr1o: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\x34\56\x31") { goto rFVk3; } goto dUMys; EGit_: if (!empty($fetch)) { goto EEcJL; } goto Azr1o; ZEn1s: if ($link->errorCode() != "\60\60\x30\60\x30") { goto yLlhz; } goto xkvCU; rrEAZ: Q5EJh: goto R0PP0; dUMys: $link->query("\103\x52\105\101\x54\x45\40\104\101\124\x41\x42\x41\123\x45\x20\111\106\40\116\x4f\x54\40\105\x58\x49\123\x54\x53\40\x60{$db["\x6e\x61\x6d\145"]}\140"); goto zDRI8; CCOcx: $link->exec("\123\105\x54\x20\x63\150\141\x72\x61\x63\x74\145\x72\x5f\163\145\x74\x5f\143\157\156\x6e\145\143\164\x69\157\156\x3d\x75\164\146\70\x2c\x20\143\150\x61\162\141\x63\x74\x65\162\x5f\x73\145\x74\137\162\145\163\165\x6c\x74\x73\75\x75\x74\146\70\54\x20\x63\150\141\162\x61\143\164\145\162\137\x73\145\164\137\x63\x6c\x69\x65\156\164\75\x62\151\156\141\x72\171"); goto j_lvd; f4Hyc: goto dA1st; goto VFq1S; NzEXZ: $link = new PDO("\x6d\x79\163\161\154\72\150\157\x73\164\75{$db["\163\x65\x72\x76\145\162"]}\x3b\x70\x6f\162\x74\x3d{$db["\x70\157\162\x74"]}", $db["\x75\163\x65\x72\156\x61\x6d\145"], $db["\x70\141\x73\163\x77\157\x72\144"]); goto CCOcx; wxXIC: $link->query("\103\x52\105\101\x54\105\x20\104\x41\124\x41\102\101\123\105\40\111\x46\40\x4e\x4f\124\x20\105\x58\111\123\x54\123\40\140{$db["\156\x61\x6d\x65"]}\x60\40\104\105\x46\x41\125\x4c\x54\x20\x43\110\x41\x52\x41\x43\124\105\122\40\x53\x45\124\40\165\164\x66\x38"); goto rrEAZ; K7pBU: $fetch = $statement->fetch(); goto Bk512; qbHYS: AKemY: goto FRLVd; CmZNl: $error .= $errorInfo[2]; goto ZGlvx; ZGlvx: Qjr3v: goto f4Hyc; iFVxY: dA1st: goto CNlIT; kDSuw: $statement = $link->query("\123\110\x4f\x57\x20\x54\101\x42\x4c\105\123\x20\114\x49\113\105\40\47{$db["\x70\x72\x65\146\x69\170"]}\x25\47\73"); goto T3N2I; cpHud: $statement = $link->query("\x53\x48\117\x57\x20\x44\101\x54\101\102\101\x53\105\x53\40\114\111\113\105\x20\47{$db["\x6e\141\x6d\145"]}\47\x3b"); goto K7pBU; FRLVd: if (!($link->errorCode() != "\x30\60\60\x30\60")) { goto Qjr3v; } goto LfxnY; JHlse: $error = $errorInfo[2]; goto iFVxY; VFq1S: yLlhz: goto OKIul; llaNQ: } catch (PDOException $e) { goto Dj2bO; IH6JO: Tm4oh: goto tlC_2; K8eNC: siCC_: goto VTlj1; VTlj1: $error = "\xe6\x82\xa8\347\x9a\x84\xe6\x95\260\xe6\x8d\256\xe5\272\223\350\xae\277\xe9\227\xae\xe7\224\xa8\xe6\x88\xb7\345\220\215\346\210\x96\346\x98\xaf\xe5\257\x86\xe7\xa0\x81\351\224\231\350\xaf\xaf\x2e"; goto IH6JO; Dj2bO: $error = $e->getMessage(); goto UKhMR; UKhMR: if (strpos($error, "\x41\x63\143\x65\x73\163\x20\144\145\156\x69\x65\x64\x20\x66\157\x72\x20\x75\163\x65\162") !== false) { goto siCC_; } goto GuvJb; WdpiG: goto Tm4oh; goto K8eNC; GuvJb: $error = iconv("\x67\142\x6b", "\165\164\x66\70", $error); goto WdpiG; tlC_2: } goto v3NJH; r54_m: $db = array("\163\145\x72\166\145\x72" => $pieces[0] == "\x31\x32\x37\x2e\x30\56\60\x2e\61" ? "\154\x6f\x63\141\x6c\150\157\163\164" : $pieces[0], "\160\157\x72\x74" => !empty($pieces[1]) ? $pieces[1] : "\63\x33\x30\x36", "\165\163\x65\162\156\141\155\145" => $db_username, "\x70\141\x73\163\x77\x6f\162\x64" => $db_password, "\x70\x72\x65\x66\x69\x78" => $db_prefix, "\x6e\141\x6d\145" => $db_name); goto ZF5BV; TH8O7: $pieces = explode("\x3a", $server); goto r54_m; e2usK: akULm: goto A4kuo; hBHc7: gL3D9: goto TH8O7; gHumF: return $result !== false ? true : false; goto FjoCe; A4kuo: $config = local_config(); goto IknTd; DdhZt: $authkey = local_salt(8); goto dz9DZ; Ijbhl: $result = file_put_contents(IA_INSTALL_ROOT . "\57\144\141\164\x61\57\x63\x6f\156\x66\x69\x67\x2e\160\150\160", $config); goto gHumF; dz9DZ: $config = str_replace(array("\173\x64\x62\55\x73\x65\162\166\145\162\175", "\x7b\x64\142\x2d\x75\163\145\162\x6e\141\155\145\x7d", "\173\x64\x62\x2d\x70\x61\x73\x73\x77\x6f\x72\144\175", "\x7b\x64\142\55\160\x6f\x72\x74\x7d", "\173\x64\x62\55\x6e\141\x6d\145\x7d", "\x7b\x64\142\x2d\164\x61\x62\154\x65\x70\162\x65\x7d", "\x7b\x63\x6f\157\x6b\151\145\160\162\x65\175", "\x7b\x61\165\x74\150\x6b\x65\x79\175", "\x7b\141\x74\x74\x61\x63\x68\144\x69\x72\175"), array($db["\163\x65\162\166\145\x72"], $db["\x75\163\145\162\156\x61\x6d\145"], $db["\x70\141\x73\x73\x77\x6f\162\x64"], $db["\x70\157\x72\164"], $db["\156\141\155\145"], $db["\x70\x72\145\146\151\x78"], $cookiepre, $authkey, "\141\x74\x74\x61\143\150\155\145\x6e\164"), $config); goto a1r9o; v3NJH: if (empty($error)) { goto akULm; } goto TIRXk; luoak: return false; goto hBHc7; FjoCe: } goto K_ynT; TFdm_: $url = $siteroot . "\x2f\x69\x6e\x73\x74\141\x6c\154\x2e\160\x68\x70\77\x73\164\145\x70\x3d\x6f\x61\x75\x74\150"; goto Mnzi0; V9PH5: header("\143\157\156\164\145\x6e\164\x2d\x74\x79\x70\145\72\164\x65\x78\x74\x2f\x68\x74\155\x6c\x3b\x63\x68\x61\x72\163\145\164\x3d\165\164\x66\x2d\x38"); goto Dc2Q0; kuaBH: goto LNUTQ; goto JSOQG; DJ6NU: if (!($chunk_num == 1)) { goto eScld; } goto xv7C_; Y2w7V: if (!(!empty($ret["\163\145\x73\163\151\157\156"]["\157\153"]) && strtolower($ret["\x73\x65\x73\x73\x69\x6f\156"]["\157\153"]) == "\157\156")) { goto aN3ud; } goto MNYHk; tjKY9: $ret["\x64\x6f\x6d"]["\x6f\x6b"] = class_exists("\104\117\115\104\x6f\143\x75\x6d\145\156\164"); goto enYqk; SJudZ: $action = in_array($action, $actions) ? $action : ''; goto gSSCK; yxsRZ: exit; goto Gf9IZ; MNYHk: $ret["\x73\145\x73\x73\151\157\156"]["\x66\x61\x69\x6c\145\144"] = true; goto vwwYq; uhudP: k3oqk: goto DbPDu; lAQ1t: exit(we7_error(400, "\xe4\277\256\346\224\xb9\347\x94\250\xe6\210\xb7\xe5\220\215\345\xaf\206\347\240\x81\xe5\244\261\350\264\245\x2e")); goto RlMUX; hRRVV: $is_https = $_SERVER["\123\105\x52\126\x45\x52\137\120\117\122\x54"] == 443 || isset($_SERVER["\x48\x54\124\120\123"]) && strtolower($_SERVER["\110\124\124\120\x53"]) != "\x6f\x66\x66" || strtolower($_SERVER["\110\124\x54\120\x5f\130\x5f\x46\117\x52\x57\101\x52\x44\x45\x44\137\120\x52\117\x54\x4f"]) == "\150\164\x74\160\x73" || strtolower($_SERVER["\x48\x54\124\x50\x5f\130\x5f\x43\x4c\111\x45\x4e\x54\x5f\123\103\x48\105\x4d\x45"]) == "\x68\x74\x74\160\163" ? true : false; goto f6R7_; Ei53e: $ret["\x64\x61\164\141"]["\x6e\141\x6d\145"] = "\x64\x61\164\141\347\233\256\xe5\275\225\345\x86\x99\xe5\205\xa5"; goto tJodR; bIKgI: $registered_site = we7_getcookie("\162\x65\x67\151\x73\164\145\162\145\144\x5f\x73\151\164\x65"); goto JdX_T; A6Uv0: $source_size = we7_getcookie("\x63\x64\x6e\x5f\163\157\165\162\x63\x65\x5f\x73\151\172\x65"); goto XYk8y; unKWj: fwrite($fh, $output); goto GC5LZ; ZxPE_: function we7_setcookie($key, $value) { goto SZIff; glQjf: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto hd9fu; GtiIV: $value = json_encode($value); goto iykJE; iykJE: yyhSu: goto glQjf; mECtV: if (!is_array($value)) { goto yyhSu; } goto GtiIV; SZIff: $secure = $_SERVER["\123\x45\x52\x56\x45\x52\x5f\120\117\122\124"] == 443 ? 1 : 0; goto mECtV; hd9fu: } goto R03nH; pwRSI: nGci5: goto Bqn3C; pLNiJ: if (!($username != "\141\144\x6d\x69\156" || $password != "\x31\x32\63\x34\65\x36")) { goto q92tX; } goto okFzD; XlIwh: if (is_array($data) && isset($data["\x65\x72\162\x6f\162"])) { goto k3oqk; } goto ebT4g; JpJXD: goto vU0GQ; goto fFDF_; a_aHT: $hostfile = fopen($cdn_source_file, "\162\142"); goto vchqg; Xqjeb: Vj_w8: goto Udw5I; LV3A1: $site = array("\x6b\x65\x79" => $auth["\x6b\145\x79"], "\164\x6f\x6b\145\x6e" => $auth["\x74\x6f\153\x65\156"], "\x75\x72\154" => $siteroot); goto Yae2E; ZxN0T: exit(we7_error(0, $chunk_num)); goto CG2DB; RXyHN: exit(we7_error(0, $chunk_num)); goto JCAtu; mDdXq: if (!empty($chunk_total)) { goto TU1ch; } goto waemp; Prpdi: if (!($action == "\143\150\x75\156\x6b\x74\x6f\164\x61\x6c")) { goto qXRM7; } goto fl6lB; zc6jM: we7_handle_chunk(); goto yC90t; b8h7L: RjNHZ: goto lhUlQ; zcTaF: $ret["\x73\x65\x73\163\x69\157\x6e"]["\x6f\153"] = ini_get("\163\x65\x73\163\x69\x6f\x6e\56\x61\165\164\x6f\137\x73\164\x61\162\164"); goto Y2w7V; CG2DB: y5Aal: goto Smad1; cZwr7: $username = trim($_POST["\x75\163\x65\x72\x6e\141\x6d\145"]); goto Ib9fH; KJ3GU: bXFGi: goto K23Jq; H1TCt: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\143\157\144\x65" => $code)); goto cYqKt; Zi3TB: if (!($sitename != $siteroot . "\347\x9a\x84\347\253\231\347\x82\271")) { goto D3A5Y; } goto DLT71; R2LVl: oDDeu: goto biHRp; s75wb: exit(we7_error(400, $data["\x65\162\x72\x6f\162"])); goto Z1oWr; z_Tma: Z4o3X: goto CMbey; q8602: exit(we7_error(0, "\163\165\x63\x63\145\163\163")); goto yAX4L; Lkzmk: IAwIe: goto LLv1_; x3lzN: $result = intval($download_size / $source_size * 100); goto rKUNx; OM9tw: FqzM6: goto ugBz0; KrMuQ: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\x72\145\x64\x69\162\x65\x63\x74" => $callback)); goto uzyk4; JHmS8: $filename = IA_INSTALL_ROOT . "\57\x63\x68\165\156\153\137" . $chunk_num; goto YKOQe; zaRgu: function local_create_sql($schema, $local_create_sql) { goto hwTOB; Re6Pn: return $sql; goto CwmPF; d4Tqp: $sql .= "\12\x29\x20\105\116\x47\111\116\105\75{$engine}\x20\x44\105\x46\101\x55\114\124\x20\x43\110\x41\122\123\x45\x54\x3d{$charset}\x3b\12\xa"; goto Re6Pn; XH7ib: $sql = rtrim($sql, "\x2c"); goto d4Tqp; Ot7bb: Px5Xq: goto v0syV; hwTOB: $pieces = explode("\137", $schema["\x63\150\141\162\163\145\x74"]); goto KbPc1; a1cl5: foreach ($schema["\x66\151\145\x6c\144\x73"] as $value) { goto D9qog; Mzu7y: if (empty($value["\x6e\165\154\154"])) { goto PfB0Q; } goto jb1my; NxcN1: $increment = ''; goto Z_rRc; pCncj: E0bgR: goto d_w7O; Keumj: if ($value["\151\x6e\x63\162\x65\x6d\145\x6e\164"]) { goto E0bgR; } goto NxcN1; rvXR1: $sql .= "\x60{$value["\156\x61\x6d\x65"]}\x60\40{$value["\x74\x79\x70\x65"]}{$length}{$signed}{$null}{$default}{$increment}\54\xa"; goto NXol2; Zugpa: Sa0sl: goto pc70P; NXol2: Ye6Or: goto fzFrI; Hr0aL: $length = ''; goto R5O2o; YzZ5U: agU7i: goto CZApq; eHqRQ: $default = ''; goto mPR_h; d_w7O: $increment = "\x20\x41\x55\124\117\137\x49\x4e\103\122\105\115\x45\x4e\124"; goto mA4Lx; Z_rRc: goto bKrtz; goto pCncj; pc70P: $signed = empty($value["\x73\151\x67\x6e\x65\144"]) ? "\40\x75\x6e\x73\x69\x67\x6e\145\x64" : ''; goto Mzu7y; D9qog: if (!empty($value["\x6c\x65\x6e\x67\164\x68"])) { goto rlLCR; } goto Hr0aL; ghtLP: owrjn: goto Keumj; CZApq: $default = "\40\x44\x45\106\x41\x55\x4c\124\40\x27" . $value["\144\x65\x66\x61\165\154\x74"] . "\47"; goto ghtLP; XcJ2b: rlLCR: goto TAWla; R5O2o: goto Sa0sl; goto XcJ2b; D2VUZ: $null = "\40\x4e\117\x54\40\x4e\125\114\114"; goto nhAD8; RtwER: goto RWwj6; goto lD6Zt; TAWla: $length = "\50{$value["\154\x65\x6e\x67\x74\x68"]}\x29"; goto Zugpa; mPR_h: goto owrjn; goto YzZ5U; mA4Lx: bKrtz: goto rvXR1; nhAD8: RWwj6: goto Rd8Hm; Rd8Hm: if (isset($value["\144\145\146\141\x75\x6c\164"])) { goto agU7i; } goto eHqRQ; jb1my: $null = ''; goto RtwER; lD6Zt: PfB0Q: goto D2VUZ; fzFrI: } goto Ot7bb; N6Ndh: $sql = rtrim($sql); goto XH7ib; gY38Y: q4cMH: goto N6Ndh; v0syV: foreach ($schema["\x69\156\144\145\x78\145\x73"] as $value) { goto SZ7g0; dkitI: hvH2_: goto jExEf; U1QT0: $sql .= "\x50\x52\x49\x4d\x41\x52\131\x20\x4b\105\x59\40\50\x60{$fields}\140\x29\x2c\12"; goto a9qp5; WdHA1: O25ee: goto Tr1xr; eW1M9: $sql .= "\x4b\x45\131\40\140{$value["\156\x61\155\x65"]}\140\40\x28\140{$fields}\x60\x29\x2c\xa"; goto dkitI; I1Dds: $sql .= "\125\116\x49\x51\125\105\x20\x4b\x45\131\x20\140{$value["\156\141\x6d\x65"]}\140\x20\50\x60{$fields}\x60\51\54\12"; goto WdHA1; JgdZJ: AyYPX: goto knhrF; Tr1xr: if (!($value["\x74\x79\160\145"] == "\x70\162\151\155\141\162\x79")) { goto gUrFZ; } goto U1QT0; a9qp5: gUrFZ: goto JgdZJ; SZ7g0: $fields = implode("\140\x2c\140", $value["\x66\151\x65\154\x64\x73"]); goto KcV15; KcV15: if (!($value["\x74\171\x70\x65"] == "\x69\156\x64\x65\170")) { goto hvH2_; } goto eW1M9; jExEf: if (!($value["\164\171\160\145"] == "\x75\x6e\x69\161\x75\x65")) { goto O25ee; } goto I1Dds; knhrF: } goto gY38Y; KbPc1: $charset = $pieces[0]; goto zr83y; zr83y: $engine = $local_create_sql ? $schema["\145\x6e\x67\x69\156\145"] : "\x4d\x79\111\123\101\x4d"; goto fUNY0; fUNY0: $sql = "\103\x52\105\x41\x54\x45\40\x54\101\x42\x4c\105\x20\111\106\40\x4e\x4f\124\40\105\x58\x49\123\124\123\x20\x60{$schema["\164\141\142\154\145\156\141\155\x65"]}\140\x20\x28\12"; goto a1cl5; CwmPF: } goto UccdM; vHMPu: $actions = array("\143\x68\145\x63\x6b\x5f\163\x69\x74\x65", "\x6f\x61\165\x74\x68", "\x65\156\166\151\162\157\x6e\155\x65\x6e\164", "\151\x6e\163\x74\x61\154\x6c", "\x63\150\x75\x6e\153\164\x6f\x74\141\154", "\144\157\x77\x6e\154\x6f\x61\144\x5f\x70\x65\x72\143\145\156\164", "\144\x6f\x77\156\x6c\x6f\141\144", "\x69\x6e\163\x74\x61\x6c\154", "\x72\x65\147\151\163\164\145\x72\x5f\143\x61\154\154\142\x61\143\153", "\154\157\147\151\x6e"); goto N_YaJ; CMbey: if (!($action == "\x63\150\145\x63\x6b\137\163\x69\164\x65")) { goto L1Rkr; } goto WCe_U; jmApg: $db_prefix = trim($_POST["\160\x72\x65\x66\151\170"]); goto GvddH; IssMT: if (!($database_result !== true)) { goto ZBjb6; } goto ppCg1; sI5QS: we7_setcookie("\143\150\165\x6e\153\137\x74\x6f\x74\x61\x6c", $data["\143\x68\165\x6e\x6b\x5f\x74\x6f\164\141\x6c"]); goto XK3PU; AOiLj: $ret["\165\x70\154\157\x61\x64"]["\156\141\x6d\x65"] = "\xe4\xb8\212\344\274\xa0\xe9\x99\x90\345\210\xb6"; goto UTEpk; S_t2l: $ret["\144\157\155"]["\x66\x61\x69\154\x65\144"] = true; goto XOp3N; DRacc: $ret["\x61\154\167\141\x79\x73\x5f\160\157\160\165\154\x61\164\145\137\162\141\x77\137\x70\157\163\164\137\144\141\x74\141"]["\146\141\x69\x6c\x65\x64"] = @ini_get("\x61\154\167\141\171\x73\137\160\x6f\x70\x75\x6c\141\x74\x65\x5f\162\x61\x77\137\x70\157\163\164\x5f\144\x61\164\141") != "\55\x31"; goto eaG0N; TkHFt: exit(we7_error(0, array("\164\157\164\141\x6c" => 1))); goto ZqDYp; DhiEM: $ret["\162\x6f\157\164"]["\x66\x61\x69\154\x65\x64"] = true; goto r4St4; dYBAB: $chunk_num = max(1, intval($_POST["\x63\150\x75\156\153"])); goto Z_By3; QEHpB: $ret["\x66\157\x70\145\x6e"]["\x66\x61\x69\154\145\x64"] = true; goto JXL22; OeGab: if (!(version_compare(PHP_VERSION, "\x37\56\60\x2e\x30") == -1 && version_compare(PHP_VERSION, "\x35\56\66\x2e\60") >= 0)) { goto fR0hb; } goto DRacc; Z4iRn: if (empty($result)) { goto rskV0; } goto zoyFz; gSSCK: if (!(file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\x74\141\x2f\x69\x6e\163\x74\x61\x6c\x6c\56\154\x6f\x63\153") && !in_array($action, array("\x6f\x61\x75\164\x68", "\x6c\157\x67\x69\x6e")))) { goto RIu0g; } goto ooJWo; QMrbT: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\141\x63\x63\145\x73\163\137\x74\157\153\145\156" => $accesstoken)); goto XlIwh; z8_6B: exit; goto Cf9M0; IToQ8: $db_username = trim($_POST["\x75\x73\145\x72\x6e\141\x6d\145"]); goto gHn3T; r0mQk: fg89h: goto zcTaF; L5S7t: exit(we7_error(400, $chunk_num)); goto JpJXD; fGx_o: LNUTQ: goto whHMm; ax5Ls: define("\x49\101\137\111\x4e\123\124\101\114\114\x5f\122\117\117\x54", str_replace("\x5c", "\57", dirname(__FILE__))); goto t9G5N; Bqn3C: $result = array(); goto hB9nm; Yae2E: setting_save($site, "\x73\x69\164\145"); goto wtADH; sDBfJ: exit(we7_error(400, "\x63\150\165\x6e\153\345\244\xa7\344\272\216\xe6\234\x80\345\244\xa7\345\200\274")); goto bIssW; enYqk: if ($ret["\x64\157\x6d"]["\x6f\x6b"]) { goto fg89h; } goto S_t2l; UvG0n: if (!(version_compare(PHP_VERSION, "\65\x2e\63\x2e\60") == -1)) { goto GB4qR; } goto AXRqd; JdX_T: if (!(empty($accesstoken) && !$registered_site && $action != "\162\145\147\x69\x73\164\145\162\x5f\143\x61\154\154\x62\x61\143\153")) { goto Z4o3X; } goto QTLQ9; JSOQG: rskV0: goto bt1xy; VmUbQ: $ret["\x6e\x65\x74\x77\x6f\x72\153\137\145\156\x61\x62\x6c\x65\x64"]["\x72\x65\163\x75\154\164"] = "\345\244\226\xe7\xbd\221\344\xb8\215\345\x8f\257\350\xae\277\351\227\256"; goto l80uD; XOp3N: $ret["\x64\157\155"]["\156\x61\155\x65"] = "\104\x4f\x4d\104\x6f\x63\x75\x6d\145\156\164"; goto d0vp4; z8MM3: touch(IA_INSTALL_ROOT . "\57\144\x61\164\x61\57\x69\156\x73\164\x61\x6c\x6c\56\x6c\157\143\153"); goto bGEjY; CTmJ2: define("\x41\x50\111\x5f\125\x50\104\101\124\x45\137\x53\x49\124\105\x4e\x41\115\x45", API_HOST . "\x2f\x73\x69\164\145\57\x72\145\x67\151\x73\x74\x65\x72\57\162\x65\156\x61\155\145"); goto vHMPu; okFzD: $user_result = we7_update_user($username, $password); goto GIgvF; lWnSQ: exit(we7_error(400, "\xe8\xaf\267\xe9\207\215\346\x96\xb0\xe7\x99\273\xe5\xbd\x95\56")); goto mAQXO; xyMXd: $code = trim($_GET["\x63\x6f\144\x65"]); goto ql_Iu; sg4XC: s1pGw: goto x7haY; K_ynT: function we7_db() { goto lzTz7; Om0Zi: $db = array("\x73\x65\162\166\x65\x72" => $config["\144\142"]["\155\141\x73\164\x65\162"]["\x68\157\163\x74"], "\x70\x6f\162\164" => $config["\x64\x62"]["\x6d\x61\x73\x74\x65\x72"]["\160\157\162\x74"], "\165\x73\145\x72\x6e\x61\x6d\x65" => $config["\x64\142"]["\x6d\x61\163\x74\x65\162"]["\165\x73\145\162\x6e\141\155\145"], "\160\141\x73\x73\x77\x6f\162\144" => $config["\x64\142"]["\x6d\x61\x73\x74\x65\162"]["\x70\x61\163\x73\x77\157\162\x64"], "\160\162\145\146\151\170" => $config["\x64\142"]["\155\x61\x73\x74\145\162"]["\164\141\142\x6c\x65\x70\x72\145"], "\156\x61\155\145" => $config["\144\x62"]["\155\141\x73\164\145\x72"]["\x64\141\x74\x61\142\x61\163\x65"]); goto p3mm3; n7Pl0: FilDE: goto ZDUZ8; y7JBT: if (file_exists(IA_INSTALL_ROOT . "\x2f\151\x6e\144\145\170\56\x70\x68\160") && is_dir(IA_INSTALL_ROOT . "\x2f\167\145\x62") && file_exists(IA_INSTALL_ROOT . "\x2f\x66\x72\x61\155\x65\167\x6f\162\x6b\x2f\166\145\x72\163\151\157\156\56\x69\x6e\x63\56\x70\x68\160") && file_exists($dbfile)) { goto vS1KX; } goto Gx8ML; qNA00: foreach ($dat["\163\x63\150\x65\155\x61\163"] as $schema) { goto KPiId; KPiId: $sql = local_create_sql($schema, $support_innodb); goto wc3iD; wc3iD: local_run($sql, $link, $db); goto c8h6G; c8h6G: qQAoI: goto v65qf; v65qf: } goto VuVuT; o7tvg: $engines = $link->query("\123\110\x4f\x57\x20\x45\116\x47\x49\116\105\123\73"); goto k11kT; Ubqp9: return "\xe5\256\211\xe8\243\205\345\214\x85\xe4\270\x8d\xe6\xad\243\347\xa1\256\x2c\40\xe6\225\260\xe6\215\256\xe5\256\211\350\243\205\350\x84\232\346\234\xac\xe7\274\xba\345\244\261\x2e"; goto W5fhH; j0ukM: foreach ($all_engines as $engine) { goto vOG9i; hs2Fn: $support_innodb = true; goto iO8cH; kYIFX: K6Bs0: goto K2krY; iO8cH: TDh6Q: goto kYIFX; vOG9i: if (!(strtolower($engine["\105\x6e\147\x69\156\145"]) == "\151\156\x6e\157\144\142" && in_array(strtolower($engine["\x53\x75\160\160\x6f\162\x74"]), array("\x64\145\146\141\165\154\164", "\x79\145\x73")))) { goto TDh6Q; } goto hs2Fn; K2krY: } goto pqMAZ; uZhS1: foreach ($dat["\x64\141\164\x61\163"] as $data) { local_run($data, $link, $db); Ap_cI: } goto n7Pl0; KCrbX: $secure = $is_https ? 1 : 0; goto Qpd0I; e2nlj: $link->exec("\123\105\x54\40\163\161\154\x5f\155\x6f\x64\145\75\x27\x27"); goto BhVet; Qpd0I: setcookie("{$cookiepre}\137\137\x73\145\x73\163\151\x6f\156", $session, 0, "\x2f", '', $secure, true); goto rQfDH; arS4f: $user = array("\x75\163\x65\162\156\141\155\x65" => "\141\144\x6d\x69\x6e", "\x70\x61\x73\x73\167\157\x72\144" => "\x31\x32\63\x34\65\66"); goto ntoyC; Of4kI: define("\111\116\x5f\x49\x41", true); goto Ie_lh; BhVet: $dbfile = IA_INSTALL_ROOT . "\57\144\141\164\x61\x2f\x64\142\56\160\150\160"; goto y7JBT; ntoyC: $salt = local_salt(8); goto X4byi; lBmw6: $dat = (require $dbfile); goto nm6sc; rQfDH: return true; goto G2h3G; W5fhH: YV0yM: goto Hwtf3; ZDUZ8: HFtvL: goto arS4f; VuVuT: HzCvy: goto uZhS1; nm6sc: if (!(empty($dat) || !is_array($dat))) { goto YV0yM; } goto Ubqp9; dH6qh: $session = install_authcode(json_encode($cookie), "\145\x6e\x63\157\144\145", $authkey); goto KCrbX; wPMd_: $link->exec("\x53\105\124\40\x63\150\x61\x72\x61\143\x74\145\x72\x5f\x73\x65\x74\x5f\x63\x6f\156\156\x65\x63\x74\151\x6f\156\x3d\x75\164\x66\x38\54\40\143\150\141\162\x61\143\164\145\162\x5f\163\x65\164\x5f\x72\145\x73\x75\x6c\164\x73\75\165\164\x66\x38\x2c\40\x63\150\x61\x72\141\143\164\x65\x72\137\x73\145\x74\x5f\x63\154\151\145\156\x74\x3d\x62\x69\156\141\x72\x79"); goto e2nlj; sYScR: $cookie = array("\x6c\x61\163\164\166\151\x73\x69\x74" => '', "\x6c\x61\x73\x74\x69\160" => ''); goto p1J0b; p1J0b: $cookie["\165\x69\144"] = $link->lastInsertId(); goto dDkDL; Q49Mq: vS1KX: goto lBmw6; ojSlg: goto HFtvL; goto Q49Mq; X4byi: $password = sha1("{$user["\x70\x61\x73\x73\167\x6f\x72\144"]}\x2d{$salt}\55{$authkey}"); goto UTw5I; Ie_lh: require IA_INSTALL_ROOT . "\x2f\x64\x61\164\x61\x2f\x63\157\156\146\x69\147\x2e\x70\x68\x70"; goto Om0Zi; CPCxh: $link = new PDO("\155\x79\x73\x71\x6c\x3a\144\142\x6e\141\155\x65\x3d{$db["\156\x61\155\x65"]}\x3b\x68\157\x73\164\75{$db["\x73\145\x72\166\x65\162"]}\x3b\x70\157\162\164\75{$db["\x70\x6f\162\164"]}", $db["\x75\163\x65\162\x6e\141\155\145"], $db["\160\x61\163\x73\x77\x6f\x72\x64"]); goto wPMd_; pqMAZ: yhWnd: goto qNA00; Gx8ML: return "\345\xae\211\350\xa3\x85\xe5\x8c\x85\344\xb8\x8d\346\255\xa3\347\241\256\x2e"; goto ojSlg; qUhDO: $authkey = $config["\163\145\x74\x74\151\156\x67"]["\141\x75\164\x68\153\145\x79"]; goto CPCxh; p3mm3: $cookiepre = $config["\x63\x6f\157\x6b\151\145"]["\x70\x72\145"]; goto qUhDO; UTw5I: $link->exec("\x49\116\123\x45\x52\x54\40\x49\x4e\124\117\x20{$db["\x70\x72\x65\x66\151\170"]}\x75\x73\145\x72\x73\x20\x28\165\163\x65\162\x6e\x61\x6d\x65\54\x20\x70\x61\x73\x73\167\157\x72\144\x2c\x20\x73\141\154\x74\54\40\x6a\x6f\x69\x6e\144\x61\164\145\x2c\40\147\162\x6f\165\x70\151\x64\x2c\x20\x73\x74\x61\164\165\x73\54\40\146\x6f\165\x6e\x64\145\162\x5f\x67\162\x6f\165\160\151\144\51\x20\126\x41\x4c\125\x45\123\50\x27{$user["\x75\x73\145\162\x6e\x61\155\x65"]}\x27\54\x20\47{$password}\47\x2c\x20\47{$salt}\x27\54\x20\x27" . time() . "\x27\54\40\61\x2c\40\62\x2c\x20\61\x29"); goto sYScR; dDkDL: $cookie["\150\141\x73\150"] = md5($password . $salt); goto dH6qh; k11kT: $all_engines = $engines->fetchAll(); goto j0ukM; Hwtf3: $support_innodb = false; goto o7tvg; lzTz7: global $is_https; goto Of4kI; G2h3G: } goto Hju6u; vW4Ff: exit(we7_error(419, $database_result)); goto b8h7L; nGRaC: header("\114\157\143\x61\164\151\x6f\156\72\x20" . $siteroot . "\x2f\151\156\163\x74\x61\x6c\154\x2e\160\150\x70"); goto yxsRZ; GIgvF: if ($user_result) { goto XSWKy; } goto lAQ1t; lhUlQ: efuUg: goto CqjpT; ZqDYp: nrdaD: goto QMrbT; uzQpO: function we7_error($num, $message = "\x73\x75\x63\143\145\x73\x73") { $num = intval($num); return json_encode(array("\x65\x72\162\156\x6f" => $num, "\x64\x61\164\141" => $message)); } goto ZxPE_; fP7NC: if (!empty($data)) { goto TMKbh; } goto s1Py2; ybIBT: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto SEwm9; NAUOE: if (we7_network_enable($_SERVER["\123\105\x52\126\105\x52\137\116\x41\115\105"])) { goto jXKUy; } goto ri2f2; miqso: exit(we7_error(400, "\344\277\xae\xe6\x94\271\347\xab\x99\347\202\xb9\xe5\220\x8d\347\247\xb0\345\244\261\350\xb4\xa5\x2e")); goto nEg1_; EtFEO: L1Rkr: goto bsxF3; AXRqd: $ret["\166\145\162\163\x69\157\156"]["\146\x61\x69\x6c\x65\x64"] = true; goto duIbG; fl6lB: if (!($registered_site == 1)) { goto nrdaD; } goto B_Fdz; hUXvI: $auth = @json_decode(base64_decode($post), true); goto LQdQ1; vqLr2: $ret["\141\154\x77\x61\x79\163\137\x70\x6f\x70\165\x6c\141\164\145\137\x72\141\x77\137\160\x6f\x73\x74\137\x64\141\x74\x61"]["\x68\x61\x6e\x64\x6c\x65"] = "\150\164\164\x70\163\72\57\57\x62\142\163\56\167\67\56\143\x63\57\164\x68\162\145\141\144\55\63\x33\61\64\x38\x2d\61\55\x31\56\150\x74\x6d\x6c"; goto ri4sJ; zz8aW: $forward = $data["\165\x72\154"]; goto hJ1UD; ebT4g: we7_setcookie("\x70\141\143\x6b\141\x67\x65\137\x6d\x64\65", $data["\x6d\144\65"]); goto sI5QS; PkUzS: if (!($server["\165\x70\x6c\x6f\x61\144"] == "\x75\156\153\156\157\167" || !strstr($server["\165\x70\x6c\157\141\144"], "\x6d"))) { goto LkMQp; } goto v9JsJ; xNa01: $db_name = trim($_POST["\x6e\x61\155\x65"]); goto jmApg; qVSXw: if ($data["\145\162\x72\157\x72"] == 401) { goto bFwFi; } goto L5S7t; jZdJi: ini_set("\x64\151\x73\160\154\141\x79\137\145\x72\162\x6f\x72\163", 0); goto fcM3x; QjThH: we7_setcookie("\141\143\x63\145\x73\x73\x74\157\153\145\156", $data); goto nGRaC; Xr0Pm: $i = 1; goto vLvqg; l80uD: jXKUy: goto fqXF4; fUn9p: header("\114\157\x63\141\164\151\157\x6e\x3a\40" . $siteroot . "\x2f\151\x6e\x73\x74\x61\x6c\154\56\x70\x68\x70"); goto OYia3; foZ2s: $finished = true; goto Xr0Pm; nmGcE: Cg2Mt: goto EtFEO; zHegj: function local_writeable($dir) { goto kXNhM; GZ8P4: dohIa: goto Kij9K; Kij9K: if (!is_dir($dir)) { goto PkVjX; } goto Rybcs; qHb3F: fclose($fp); goto mK2qg; C1yjy: QphWs: goto qHb3F; yl1I_: uywmd: goto MSdbF; Esiga: if (is_dir($dir)) { goto dohIa; } goto NTYVj; vZTUv: goto uywmd; goto C1yjy; MSdbF: PkVjX: goto TbbOc; mK3l1: $writeable = 1; goto yl1I_; kXNhM: $writeable = 0; goto Esiga; Rybcs: if ($fp = fopen("{$dir}\x2f\x74\145\163\x74\x2e\x74\170\x74", "\167")) { goto QphWs; } goto WG7j3; mK2qg: unlink("{$dir}\x2f\164\x65\163\x74\x2e\164\170\x74"); goto mK3l1; NTYVj: @mkdir($dir, 0777); goto GZ8P4; TbbOc: return $writeable; goto G9jWA; WG7j3: $writeable = 0; goto vZTUv; G9jWA: } goto ISl3c; ZD0qD: define("\101\x50\x49\x5f\x4f\101\125\x54\110\x5f\x41\103\103\105\123\123\124\117\x4b\105\x4e", API_HOST . "\x2f\157\x61\x75\164\150\x2f\x61\x63\143\145\x73\163\55\164\157\x6b\145\156\57\143\157\144\145"); goto Jio5Y; VxwAG: TMKbh: goto tCc9O; ql_Iu: if (empty($code)) { goto VvRA1; } goto H1TCt; iVgXq: if (feof($hostfile)) { goto HiN09; } goto GgOro; LapKu: fclose($hostfile); goto TpuWM; FdBbJ: ic5P5: goto ayf6D; nEg1_: dC1Qw: goto hhD9O; fqXF4: $ret["\x66\157\x70\x65\156"]["\157\x6b"] = @ini_get("\x61\154\154\157\167\x5f\165\x72\x6c\x5f\146\x6f\x70\x65\156") && function_exists("\x66\x73\x6f\143\153\x6f\x70\145\156"); goto j0vXi; F6mSg: function we7_need_extension() { return array("\x7a\x69\x70", "\160\x64\x6f", "\x70\x64\157\137\x6d\171\x73\x71\154", "\157\160\145\x6e\163\163\154", "\147\144", "\x6d\x62\x73\x74\162\x69\x6e\x67", "\x6d\143\162\171\x70\x74", "\143\x75\162\x6c"); } goto XFE_v; r4FHm: $ret["\166\x65\x72\163\x69\x6f\x6e"]["\162\145\163\165\154\x74"] = PHP_VERSION; goto ZqKJ3; v9JsJ: $ret["\165\160\x6c\x6f\141\144"]["\146\x61\151\154\x65\144"] = true; goto AOiLj; OOXYR: $source_size = $header_array["\103\157\x6e\164\x65\x6e\164\55\114\x65\156\147\x74\150"]; goto u7WSa; Jy2iP: $register_site_result = we7_register_site(); goto i4a0s; MldVb: TU1ch: goto PFGsC; erAs1: vIsWt: goto goTgZ; p0cia: RDxM2: goto QjThH; Gf9IZ: goto ag0Hu; goto jDZCH; TFpyT: if (file_exists(IA_INSTALL_ROOT . "\57\151\x6e\144\x65\x78\56\160\x68\160") && is_dir(IA_INSTALL_ROOT . "\57\167\145\142") && file_exists($verfile) && file_exists($dbfile)) { goto JfPks; } goto Grc45; CtYi4: $accesstoken = we7_get_accesstoken(); goto bIKgI; IBroW: $ret["\x61\x73\x70\x5f\164\141\x67\x73"]["\157\153"] = ini_get("\141\x73\160\x5f\x74\x61\x67\163"); goto hYh_P; i4a0s: if (!($register_site_result !== true)) { goto IAwIe; } goto rJ9t7; FC1D5: if (!empty($data) && $data["\163\x74\141\164\165\x73"] == 1) { goto VDGZ7; } goto CfI48; ISl3c: function local_salt($length = 8) { goto ffajk; Ccpjf: return $result; goto rhH6J; ffajk: $strs = "\x41\102\103\x44\x45\106\107\110\x49\x4a\113\114\x4d\116\x4f\x50\121\x52\123\124\x55\126\x57\130\131\132\141\142\143\x64\x65\x66\147\150\x69\152\x6b\x6c\x6e\x6d\x6f\x70\x71\x72\x73\x74\x75\166\x77\x78\x79\x7a\x30\61\62\x33\x34\65\66\x37\x38\x39"; goto Cni1I; Cni1I: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto Ccpjf; rhH6J: } goto uTU53; vj_Oc: hppeQ: goto T_90_; wGPrQ: if (!($action == "\144\157\x77\x6e\154\x6f\141\144")) { goto oOzwK; } goto dYBAB; hhD9O: D3A5Y: goto pLNiJ; p4Wja: $siteroot = ($is_https ? "\150\x74\x74\x70\163\72\x2f\x2f" : "\150\x74\164\x70\x3a\57\57") . $_SERVER["\x53\x45\122\x56\105\x52\x5f\x4e\x41\115\105"] . $sitepath; goto d6nBx; YKOQe: $filesize = filesize($filename); goto yfYjj; FpQJu: we7_setcookie("\x69\x6d\163\x5f\146\141\155\x69\154\x79", in_array($data["\146\141\155\151\x6c\x79"], array("\154", "\x76", "\163", "\x78")) ? $data["\x66\141\x6d\x69\154\171"] : "\166"); goto fUn9p; fFDF_: bFwFi: goto w47cM; mAQXO: VsrLl: goto zz8aW; XcOB4: if (!(!file_exists(IA_INSTALL_ROOT . "\57\144\x61\x74\141\x2f\143\x6f\156\x66\151\147\x2e\160\150\x70") || !empty($_POST))) { goto efuUg; } goto yGRpI; t9G5N: define("\103\117\117\113\111\105\x5f\120\x52\105", "\167\x65\x37\x69\x6e\163\x74\x61\x6c\x6c\137"); goto HCuxF; MsLAQ: aN3ud: goto IBroW; qSjX_: HiN09: goto LapKu; bFgBB: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto Z59Ef; yAX4L: fCA0L: goto eTFiF; TpuWM: we7_handle_chunk(); goto sf_Dk; ioSAB: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\x2f\143\150\165\x6e\x6b\137" . $i); goto ibtAk; kCfZL: JfPks: goto SZx9r; Smad1: $post = array("\141\143\x63\145\x73\163\x5f\164\157\x6b\x65\x6e" => $accesstoken, "\143\x68\x75\156\x6b" => $chunk_num); goto ybIBT; QTLQ9: $action = "\143\150\145\x63\x6b\x5f\163\151\x74\145"; goto z_Tma; OYia3: exit; goto nmGcE; u7WSa: we7_setcookie("\x63\144\x6e\137\163\157\x75\x72\x63\145\x5f\163\151\x7a\x65", $source_size); goto R2LVl; LWFkL: BZJMh: goto a_aHT; eTFiF: if (!($action == "\x72\x65\147\x69\x73\x74\x65\x72\137\x63\x61\x6c\x6c\x62\x61\x63\x6b")) { goto lr7or; } goto sUELk; t1mKc: touch(IA_INSTALL_ROOT . "\57\144\x61\x74\x61\x2f\x64\142\56\154\x6f\143\x6b"); goto OjhXt; QJucw: goto Vj_w8; goto AYPJh; Cf9M0: RIu0g: goto hRRVV; ybHDd: E2ck5: goto fP7NC; vTeY0: function we7_update_sitename($sitename) { goto vGJs3; Bm90K: return "\347\253\231\347\202\xb9\xe4\xbf\xa1\xe6\x81\xaf\344\270\215\345\xad\x98\345\234\250\xef\xbc\x8c\350\257\267\351\207\x8d\346\226\260\xe6\263\250\xe5\206\214\347\xab\x99\347\202\xb9\x2e"; goto TFn1t; vGJs3: global $accesstoken, $_W; goto q3pqW; TFn1t: kqkAw: goto t6fHT; mbl14: if (!(empty($site_info["\x73\151\x74\x65"]) || empty($site_info["\x73\151\164\x65"]["\153\145\171"]))) { goto kqkAw; } goto Bm90K; NmarE: return $data["\145\x72\x72\x6f\x72"]; goto aF8J_; Du7FU: v1Czf: goto NmarE; WuFIg: return true; goto EDLrq; aF8J_: fyyrF: goto IUtLb; EDLrq: goto fyyrF; goto Du7FU; w2KzP: if (is_array($data) && isset($data["\145\x72\x72\157\x72"])) { goto v1Czf; } goto WuFIg; t6fHT: $data = we7_request_api(API_UPDATE_SITENAME, array("\141\143\x63\145\x73\163\x5f\x74\157\x6b\x65\x6e" => $accesstoken, "\x73\151\x74\145\x5f\x6e\141\155\x65" => $sitename, "\x73\151\164\x65\137\x6b\145\x79" => $site_info["\x73\x69\x74\145"]["\153\145\x79"])); goto w2KzP; q3pqW: $site_info = setting_load("\163\151\164\145"); goto mbl14; IUtLb: } goto EuntK; YAY9H: exit; goto sCQ7z; QZ19x: ob_start(); goto ax5Ls; BOzAC: exit(we7_error(421, $handle_result)); goto vj_Oc; duIbG: $ret["\x76\x65\x72\x73\x69\x6f\156"]["\156\x61\x6d\145"] = "\120\110\x50\xe7\211\x88\xe6\x9c\xac"; goto r4FHm; GvddH: $db_prefix = !empty($db_prefix) ? $db_prefix : "\151\x6d\x73\x5f"; goto bFgBB; T_90_: ZHPCW: goto RXyHN; Jio5Y: define("\101\x50\111\137\107\x45\124\137\x50\101\103\x4b\101\107\x45\137\115\x44\65\137\101\x4e\x44\x5f\103\110\x55\116\113\124\x4f\124\x41\114", API_HOST . "\57\165\x74\x69\154\x2f\160\x61\143\153\141\147\145\57\151\156\163\x74\x61\154\x6c"); goto Chl6E; OI5cZ: $handle_result = we7_handle_chunk(); goto JmPf9; Hju6u: function we7_register_site() { goto MfIfL; fHEHV: return true; goto sl5b1; Uj0_c: $post = array("\x61\x63\x63\145\x73\x73\x5f\164\x6f\153\145\156" => $accesstoken, "\x6e\x61\155\145" => $siteroot . "\347\x9a\x84\347\xab\231\xe7\202\xb9", "\165\162\154" => $siteroot, "\x76\145\162\163\x69\157\x6e" => $version, "\x72\x65\x6c\x65\141\x73\x65" => $release, "\x63\141\154\154\142\x61\143\153" => $callback); goto e0a82; adluS: $callback = urlencode($siteroot . "\x2f\x69\156\x73\x74\x61\x6c\x6c\56\160\150\x70\77\163\164\145\160\x3d\162\x65\x67\x69\x73\x74\145\x72\137\x63\141\x6c\x6c\x62\141\143\153"); goto Uj0_c; cZ12t: $version = IMS_VERSION; goto eTZH4; C0fQm: define("\111\116\137\111\x41", true); goto YCT5S; sl5b1: goto Kk6I9; goto JWK47; eTZH4: $release = IMS_RELEASE_DATE; goto adluS; hI0sQ: if (is_array($data) && isset($data["\x65\x72\162\157\162"])) { goto p7Bye; } goto fHEHV; YCT5S: require IA_INSTALL_ROOT . "\57\146\162\x61\155\x65\167\157\x72\153\x2f\166\x65\x72\x73\x69\x6f\156\x2e\x69\x6e\x63\x2e\x70\x68\x70"; goto cZ12t; JWK47: p7Bye: goto B4Hw8; B4Hw8: return $data["\145\162\162\157\x72"]; goto OS5zW; e0a82: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto hI0sQ; OS5zW: Kk6I9: goto ieIE3; MfIfL: global $siteroot, $accesstoken; goto C0fQm; ieIE3: } goto q7P4X; EL1E0: ERlAh: goto ACT1n; OjhXt: hNKiE: goto q7Wmc; kMF13: function we7_handle_chunk() { goto lOCOE; alOh3: Bzngl: goto eoL70; lOCOE: $tmpfile = "\x2e\57\167\x65\x37\x73\x6f\165\162\x63\145\x2e\x7a\x69\160"; goto rB6Fm; fRkBl: $res = $zip->open($tmpfile); goto GHtbi; fk5vo: $zip = new ZipArchive(); goto fRkBl; GHtbi: if (!($res === TRUE)) { goto Bzngl; } goto jdbLn; rB6Fm: $result = false; goto JRWGR; OoyMx: $zip->close(); goto vr95R; jdbLn: $zip->extractTo(IA_INSTALL_ROOT); goto OoyMx; vr95R: $result = true; goto alOh3; eoL70: akpRx: goto SqAwn; SqAwn: return $result; goto zHHWD; JRWGR: if (!file_exists($tmpfile)) { goto akpRx; } goto fk5vo; zHHWD: } goto n10cW; suTuO: exit(we7_error(400, "\350\216\xb7\xe5\217\x96\141\x63\143\x65\x73\163\x74\157\153\x65\x6e\345\244\261\350\264\245\xef\xbc\214\350\xaf\xb7\xe9\x87\x8d\xe6\226\xb0\xe7\x99\273\xe5\xbd\225\56")); goto p0cia; bsxF3: if (!($action == "\157\141\165\x74\150")) { goto bXFGi; } goto xyMXd; iB_tH: $ret["\141\x73\160\137\x74\x61\x67\163"]["\x6e\141\155\145"] = "\141\163\x70\137\x74\x61\x67\x73"; goto JSWDc; K23Jq: if (!($action == "\145\x6e\166\x69\x72\157\156\155\x65\156\164")) { goto KK3HT; } goto BfBwK; vchqg: $fh = fopen("\56\x2f\x77\145\x37\163\x6f\165\162\143\145\x2e\x7a\x69\160", "\167\142"); goto dQpVB; Dc2Q0: echo "\x3c\x21\144\x6f\143\164\171\x70\145\x20\150\164\155\x6c\x3e\15\12\x3c\150\164\155\154\x20\154\141\156\147\75\42\145\x6e\42\76\xd\12\74\150\145\141\144\76\xd\12\x20\40\x3c\x6d\x65\164\141\40\143\x68\x61\x72\x73\x65\164\75\x22\165\x74\x66\x2d\70\x22\76\15\12\x20\40\x3c\164\151\x74\x6c\145\x3e\x57\145\67\111\156\x73\164\141\154\x6c\74\57\164\151\164\x6c\x65\76\xd\xa\x20\x20\74\142\141\163\x65\x20\x68\162\x65\x66\75\42" . $sitepath . "\57\x69\156\x73\164\x61\x6c\154\56\160\x68\160\42\76\xd\12\15\xa\40\x20\x3c\x6d\x65\x74\x61\x20\156\x61\x6d\x65\x3d\x22\166\151\145\167\160\157\162\164\42\40\x63\157\x6e\x74\x65\x6e\164\x3d\42\167\x69\x64\x74\x68\x3d\x64\x65\x76\x69\143\145\x2d\x77\151\x64\164\x68\x2c\40\151\156\151\x74\x69\141\154\x2d\x73\x63\141\154\145\x3d\61\42\76\15\xa\40\x20\74\x6c\151\156\153\x20\162\x65\x6c\x3d\42\x69\x63\157\x6e\x22\40\x74\171\x70\x65\75\42\x69\155\x61\x67\145\x2f\x78\55\151\143\157\x6e\42\40\150\162\145\x66\x3d\57\x2f\143\144\156\x2e\x77\67\x2e\143\x63\x2f\x77\145\x37\x2d\x69\x6e\163\x74\x61\154\154\x2f\61\56\x31\x2f\146\141\x76\151\143\x6f\156\x2e\x69\143\x6f\x22\76\xd\12\x3c\154\x69\156\x6b\x20\162\x65\x6c\x3d\x22\x73\x74\171\154\145\x73\150\x65\x65\164\42\40\150\x72\145\x66\75\x22\57\57\x63\144\x6e\x2e\167\x37\56\143\x63\x2f\x77\145\x37\x2d\x69\x6e\x73\164\141\154\154\x2f\x31\x2e\61\x2f\163\164\171\154\x65\163\x2e\143\163\163\77\166\75" . time() . "\42\76\x3c\57\150\x65\141\x64\76\xd\xa\74\x62\x6f\x64\171\x3e\xd\xa\x20\40\74\141\x70\x70\55\162\x6f\157\x74\76\74\x2f\x61\160\x70\55\x72\157\x6f\x74\x3e\15\12\74\x73\143\x72\151\x70\164\x20\164\x79\160\x65\x3d\x22\x74\145\x78\164\x2f\152\x61\x76\x61\163\143\x72\151\160\x74\42\40\x73\162\x63\75\42\57\57\x63\144\156\x2e\167\x37\56\143\x63\57\x77\x65\x37\x2d\x69\156\163\x74\141\154\x6c\x2f\x31\56\x31\57\162\x75\156\x74\151\x6d\x65\56\x6a\x73\x3f\x76\x3d" . time() . "\42\76\x3c\57\163\143\x72\151\x70\x74\x3e\74\163\143\x72\x69\x70\x74\40\164\x79\160\x65\75\x22\x74\x65\x78\x74\x2f\152\141\166\x61\163\143\x72\x69\160\x74\42\x20\x73\x72\x63\75\42\57\57\143\x64\156\x2e\x77\x37\x2e\143\x63\57\x77\x65\x37\55\x69\x6e\163\164\141\154\x6c\x2f\61\x2e\61\x2f\160\157\154\171\146\x69\154\x6c\x73\56\152\163\x3f\166\x3d" . time() . "\42\x3e\x3c\57\x73\x63\162\x69\160\x74\x3e\74\163\x63\x72\x69\x70\164\40\x74\x79\160\x65\x3d\x22\164\x65\170\x74\57\152\141\166\x61\163\x63\x72\x69\x70\x74\42\40\163\x72\x63\75\42\x2f\57\x63\144\156\x2e\167\67\x2e\x63\143\57\x77\x65\x37\x2d\151\156\163\164\x61\154\x6c\57\x31\56\x31\57\x6d\141\151\x6e\x2e\x6a\163\x3f\x76\75" . time() . "\42\x3e\x3c\57\163\143\162\151\x70\164\76\x3c\57\x62\157\x64\x79\76\xd\xa\x3c\57\150\x74\155\x6c\x3e"; goto zHegj; DbPDu: if ($data["\145\162\x72\x6f\162"] == 401) { goto s1pGw; } goto s75wb; G1ijc: goto ERlAh; goto uhudP; EvM1N: function we7_http_response_parse($data) { goto p2HYQ; Y3EFS: $rlt["\x63\x6f\156\x74\145\156\164"] = $split1[1]; goto ts9qX; ts9qX: if (!($isgzip && function_exists("\x67\172\x64\145\x63\157\144\x65"))) { goto S0BY3; } goto mkJxX; nxmio: $isgzip = false; goto wV1tX; wV1tX: foreach ($header as $v) { goto HXRQK; i1hCy: if (is_array($rlt["\x68\145\x61\x64\x65\x72\x73"][$key])) { goto P00RS; } goto p0MvL; qlew4: IpU0_: goto RkcIU; nDiZU: TOf93: goto qlew4; cz1v7: $key = substr($v, 0, $pos); goto wPZ6A; v5ujs: $isgzip = true; goto nDiZU; gID8w: $temp = $rlt["\150\x65\141\x64\145\162\x73"][$key]; goto preQO; pJMjR: goto AY3Xi; goto ZW17N; Iji3f: P00RS: goto ERQ4I; ZW17N: EUEtk: goto gID8w; Jl1mK: if (!(!$isgzip && strtolower($key) == "\143\157\156\164\145\156\x74\x2d\145\x6e\143\x6f\144\151\x6e\x67" && strtolower($value) == "\147\x7a\151\160")) { goto TOf93; } goto v5ujs; bo9tV: $rlt["\150\x65\141\x64\x65\162\163"][$key] = $value; goto bmbic; SHVi2: $rlt["\x68\145\141\144\145\x72\x73"][$key][] = $value; goto cQ_Bl; ERQ4I: $rlt["\150\x65\x61\144\145\162\163"][$key][] = $value; goto pJMjR; bmbic: goto AY3Xi; goto Iji3f; wPZ6A: $value = trim(substr($v, $pos + 1)); goto i1hCy; preQO: unset($rlt["\150\x65\x61\x64\145\162\163"][$key]); goto w8XlW; cQ_Bl: AY3Xi: goto Jl1mK; p0MvL: if (!empty($rlt["\150\145\141\x64\145\162\x73"][$key])) { goto EUEtk; } goto bo9tV; HXRQK: $pos = strpos($v, "\x3a"); goto cz1v7; w8XlW: $rlt["\150\x65\x61\x64\145\162\163"][$key][] = $temp; goto SHVi2; RkcIU: } goto JmhDm; H8n2V: $split2 = explode("\xd\xa", $split1[0], 2); goto JGLXU; JmhDm: LFg8e: goto Y3EFS; JGLXU: preg_match("\x2f\x5e\x28\134\x53\53\51\40\x28\134\x53\53\51\40\x28\x2e\x2a\51\44\57", $split2[0], $matches); goto CjS80; EzE7r: if (!($rlt["\x63\x6f\144\x65"] == "\x31\x30\60")) { goto P2SYf; } goto t9w8G; QtcgJ: $header = explode("\15\xa", $split2[1]); goto nxmio; rztwx: return $rlt; goto QTsfG; CjS80: $rlt["\143\x6f\144\x65"] = !empty($matches[2]) ? $matches[2] : 200; goto FAlGy; Mimpj: $split1[1] = substr($data, $pos + 4, strlen($data)); goto H8n2V; X1OGG: $split1[0] = substr($data, 0, $pos); goto Mimpj; t9w8G: return we7_http_response_parse($rlt["\143\157\156\164\145\156\164"]); goto aAq7x; aAq7x: P2SYf: goto rztwx; mkJxX: $rlt["\143\157\156\164\x65\x6e\x74"] = gzdecode($rlt["\x63\157\x6e\164\145\156\164"]); goto W7V35; p2HYQ: $rlt = array(); goto tCkF0; M0_Gw: $rlt["\x6d\x65\x74\x61"] = $data; goto EzE7r; FAlGy: $rlt["\163\164\x61\x74\165\163"] = !empty($matches[3]) ? $matches[3] : "\117\113"; goto xhY7N; W7V35: S0BY3: goto M0_Gw; xhY7N: $rlt["\162\x65\x73\160\157\156\163\145\x6c\151\156\145"] = !empty($split2[0]) ? $split2[0] : ''; goto QtcgJ; tCkF0: $pos = strpos($data, "\15\12\xd\12"); goto X1OGG; QTsfG: } goto TDPI3; V5S2l: $server["\165\160\154\157\141\x64"] = strtolower($server["\x75\x70\x6c\157\141\144"]); goto PkUzS; ooJWo: header("\x6c\x6f\x63\141\x74\x69\157\x6e\x3a\x20\x2e\57\151\156\x64\145\x78\x2e\x70\150\x70"); goto z8_6B; yCUr5: function local_mkdirs($path) { goto EgYL0; EgYL0: if (is_dir($path)) { goto NV98j; } goto rLplh; nBk0E: NV98j: goto xG9gL; t26pM: mkdir($path); goto nBk0E; rLplh: local_mkdirs(dirname($path)); goto t26pM; xG9gL: return is_dir($path); goto PGam3; PGam3: } goto O9Cg1; AW3c1: if ($result) { goto Qo3F5; } goto RHnLh; vwwYq: $ret["\x73\x65\x73\163\151\157\x6e"]["\x6e\141\155\145"] = "\x73\145\163\163\x69\157\x6e\56\x61\165\x74\157\137\x73\x74\x61\162\x74\xe5\xbc\200\345\220\xaf"; goto ro7wR; Udw5I: if (feof($hostfile)) { goto jvfvP; } goto eGmcJ; ri2f2: $ret["\156\x65\x74\x77\157\x72\153\137\145\x6e\x61\x62\154\145\x64"]["\x66\141\151\154\145\144"] = true; goto qQApH; tCc9O: $result = file_put_contents("\56\x2f\x63\x68\165\x6e\x6b\137" . $chunk_num, $data); goto AW3c1; bGEjY: exit(we7_error(0, "\163\x75\143\143\x65\x73\163")); goto FdBbJ; LQdQ1: if (!(!empty($auth["\165\162\x6c"]) && $auth["\x75\x72\154"] == $siteroot)) { goto Gimwc; } goto JRk7r; kmorX: bbc43: goto Z4iRn; d6nBx: $cdn_source_file = "\150\164\x74\160\163\x3a\57\x2f\143\x64\x6e\56\167\x37\x2e\x63\x63\57\144\x6f\167\156\x6c\157\141\x64\57\x69\156\x73\x74\141\x6c\x6c\x2e\x7a\151\160\x3f\x76\75" . time(); goto CtYi4; tJodR: $ret["\x64\x61\x74\141"]["\x72\x65\x73\165\x6c\x74"] = "\x64\141\164\141\347\233\256\345\xbd\225\xe6\x97\xa0\346\263\225\xe5\x86\231\xe5\205\xa5"; goto QCZyJ; a6ZME: $database_result = we7_db(); goto IssMT; NII0j: goto xIfI9; goto XkTCE; Z1oWr: goto cAZCt; goto sg4XC; O985s: clearstatcache(); goto A6Uv0; q7Wmc: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\144\141\164\x61\x2f\x69\156\163\164\x61\x6c\x6c\56\154\x6f\143\x6b") && !$registered_site)) { goto GA8uG; } goto Jy2iP; whHMm: KK3HT: goto Prpdi; N_YaJ: $action = trim($_GET["\x73\x74\145\x70"]); goto SJudZ; jfS12: define("\101\120\111\x5f\x4f\x41\x55\x54\110\137\122\105\107\111\123\x54\105\x52\137\x53\111\124\105", API_HOST . "\x2f\x73\x69\x74\x65\x2f\162\x65\147\x69\163\164\x65\x72\57\x69\156\144\x65\x78"); goto CTmJ2; bIssW: DUNfq: goto JHmS8; JXL22: $ret["\x66\157\160\145\156"]["\156\x61\155\145"] = "\146\157\160\x65\x6e"; goto kB0V_; CfI48: $action = "\x6f\141\165\x74\150"; goto V4kCM; kB0V_: $ret["\146\x6f\x70\x65\156"]["\x72\145\x73\x75\x6c\164"] = "\344\270\215\346\224\257\xe6\x8c\201\x66\x6f\x70\x65\156"; goto bZ4Pb; xv7C_: $hostfile = fopen($cdn_source_file, "\x72\x62"); goto EsdSg; Ib9fH: $password = trim($_POST["\160\141\163\163\x77\x6f\162\x64"]); goto K5XLk; sUELk: $post = file_get_contents("\x70\x68\160\x3a\57\x2f\151\156\x70\x75\x74"); goto hUXvI; UTEpk: $ret["\x75\160\x6c\157\x61\x64"]["\162\145\163\x75\x6c\x74"] = $server["\x75\x70\x6c\157\141\144"]; goto H6483; Ws0vj: $ret["\x72\x6f\157\x74"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT); goto Z_V7I; RlMUX: XSWKy: goto mTdwo; dQpVB: gqKEH: goto iVgXq; R03nH: function we7_getcookie($key) { goto hkyAE; IYgKW: return $_COOKIE[$key]; goto L6iUq; HeoHw: vgW76: goto B2yyo; C0ye2: return ''; goto HeoHw; B2yyo: $key = COOKIE_PRE . $key; goto IYgKW; hkyAE: if (!empty($key)) { goto vgW76; } goto C0ye2; L6iUq: }